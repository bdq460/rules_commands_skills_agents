---
name: data-engineer
description: æ•°æ®å»ºæ¨¡ã€æ•°æ®åº“è®¾è®¡ã€æ•°æ®è¿ç§»å’Œæ•°æ®åŒæ­¥ç­‰æ•°æ®å·¥ç¨‹ç›¸å…³å·¥ä½œã€‚
---

# Data Engineer Skill

æœ¬skillè´Ÿè´£æ•°æ®å»ºæ¨¡ã€æ•°æ®åº“è®¾è®¡ã€æ•°æ®è¿ç§»å’Œæ•°æ®åŒæ­¥ç­‰æ•°æ®å·¥ç¨‹ç›¸å…³å·¥ä½œã€‚

**ğŸ’¡ é‡è¦è¯´æ˜**: æœ¬æŠ€èƒ½æ—¢å¯ä»¥ä½œä¸ºäº§å“å¼€å‘æµç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•é€‚åˆçš„åœºæ™¯ä¸‹ç‹¬ç«‹ä½¿ç”¨ã€‚
ä¸éœ€è¦ç”¨æˆ·æ˜ç¡®å£°æ˜"æˆ‘æ˜¯æ•°æ®å·¥ç¨‹å¸ˆ"ï¼Œåªè¦ç”¨æˆ·çš„éœ€æ±‚æ¶‰åŠæ•°æ®å·¥ç¨‹æˆ–æ•°æ®åº“è®¾è®¡ï¼Œå°±å¯ä»¥è°ƒç”¨æœ¬æŠ€èƒ½ã€‚

## ä½•æ—¶ä½¿ç”¨æœ¬Skill

æœ¬skillå¯ä»¥åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºäº§å“å¼€å‘æµç¨‹çš„ä¸€éƒ¨åˆ†ï¼š

### ç‹¬ç«‹ä½¿ç”¨åœºæ™¯

**åœºæ™¯1: æ•°æ®åº“è®¾è®¡**

- "è®¾è®¡ç”¨æˆ·ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“"
- "è®¾è®¡ç”µå•†å¹³å°çš„æ•°æ®åº“ç»“æ„"
- "è®¾è®¡è®¢å•ç®¡ç†ç³»ç»Ÿçš„æ•°æ®åº“"
- "è®¾è®¡æ•°æ®ä»“åº“çš„æ•°æ®åº“"
- "è®¾è®¡å®æ—¶æ•°æ®åº“ç»“æ„"

**åœºæ™¯2: æ•°æ®å»ºæ¨¡**

- "å»ºç«‹ç³»ç»Ÿçš„æ•°æ®æ¨¡å‹"
- "è®¾è®¡ERå›¾"
- "è®¾è®¡é¢†åŸŸæ•°æ®æ¨¡å‹"
- "è®¾è®¡æ•°æ®å…³ç³»"
- "è®¾è®¡æ•°æ®å®ä½“"

**åœºæ™¯3: æ•°æ®è¿ç§»**

- "è®¾è®¡æ•°æ®è¿ç§»æ–¹æ¡ˆ"
- "ç”Ÿæˆæ•°æ®è¿ç§»è„šæœ¬"
- "è®¾è®¡æ•°æ®åº“å‡çº§è„šæœ¬"
- "è®¾è®¡æ•°æ®åŒæ­¥æ–¹æ¡ˆ"
- "è®¾è®¡æ•°æ®å¯¼å…¥å¯¼å‡ºæ–¹æ¡ˆ"

**åœºæ™¯4: æ•°æ®åº“ä¼˜åŒ–**

- "ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½"
- "è®¾è®¡æ•°æ®åº“ç´¢å¼•"
- "ä¼˜åŒ–æ•°æ®åº“ç»“æ„"
- "è®¾è®¡æ•°æ®åº“åˆ†åŒºç­–ç•¥"
- "è®¾è®¡æ•°æ®åº“ç¼“å­˜ç­–ç•¥"

**åœºæ™¯5: æ•°æ®å·¥ç¨‹å’¨è¯¢**

- "å¦‚ä½•è®¾è®¡æ•°æ®åº“?"
- "æ•°æ®åº“è®¾è®¡æœ€ä½³å®è·µ"
- "æ•°æ®å»ºæ¨¡æ–¹æ³•"
- "æ•°æ®è¿ç§»ç­–ç•¥"
- "æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–"

### äº§å“å¼€å‘æµç¨‹é›†æˆ

åœ¨äº§å“å¼€å‘æµç¨‹çš„**é˜¶æ®µ6: æ¶æ„ä¿éšœ**ä¸­è¢«è°ƒç”¨ï¼Œä½œä¸ºæ•°æ®å·¥ç¨‹å¸ˆè§’è‰²ã€‚

**è°ƒç”¨æ–¹å¼**: ç”±product-development-flowè‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’ä¸šåŠ¡é¢†åŸŸã€åŠŸèƒ½è§„æ ¼ç­‰ä¸Šä¸‹æ–‡ã€‚

**è§¦å‘æ—¶æœº**:

- ä¸šåŠ¡å®ç°æœŸé—´ï¼Œéœ€è¦æ•°æ®åº“è®¾è®¡æ—¶
- éœ€è¦è¿›è¡Œæ•°æ®å»ºæ¨¡æ—¶
- éœ€è¦è®¾è®¡æ•°æ®è¿ç§»æ–¹æ¡ˆæ—¶

### è§¦å‘å…³é”®è¯

ä»¥ä¸‹å…³é”®è¯æˆ–çŸ­è¯­å‡ºç°æ—¶ï¼Œå»ºè®®è°ƒç”¨æœ¬skillï¼š

**æ•°æ®åº“è®¾è®¡ç±»**:

- "è®¾è®¡æ•°æ®åº“"ã€"æ•°æ®åº“è®¾è®¡"ã€"æ•°æ®å»ºæ¨¡"
- "æ•°æ®åº“ç»“æ„"ã€"è¡¨è®¾è®¡"ã€"è¡¨ç»“æ„"

**æ•°æ®æ¨¡å‹ç±»**:

- "æ•°æ®æ¨¡å‹"ã€"ERå›¾"ã€"å®ä½“å…³ç³»"
- "æ•°æ®å®ä½“"ã€"æ•°æ®å…³ç³»"ã€"é¢†åŸŸæ¨¡å‹"

**æ•°æ®è¿ç§»ç±»**:

- "æ•°æ®è¿ç§»"ã€"æ•°æ®åº“è¿ç§»"ã€"è¿ç§»æ–¹æ¡ˆ"
- "æ•°æ®åŒæ­¥"ã€"æ•°æ®å¯¼å…¥"ã€"æ•°æ®å¯¼å‡º"

**æ•°æ®åº“ä¼˜åŒ–ç±»**:

- "æ•°æ®åº“ä¼˜åŒ–"ã€"æŸ¥è¯¢ä¼˜åŒ–"ã€"æ€§èƒ½ä¼˜åŒ–"
- "æ•°æ®åº“ç´¢å¼•"ã€"ç´¢å¼•è®¾è®¡"ã€"æŸ¥è¯¢æ€§èƒ½"

**æ•°æ®å·¥ç¨‹ç±»**:

- "æ•°æ®å·¥ç¨‹"ã€"æ•°æ®åº“æ¶æ„"
- "æ•°æ®ä»“åº“"ã€"æ•°æ®å¹³å°"ã€"æ•°æ®æ¹–"

## ğŸ¯ æ ¸å¿ƒèŒè´£

### 1. æ•°æ®å»ºæ¨¡å’Œæ•°æ®åº“è®¾è®¡

- è®¾è®¡æ¦‚å¿µæ•°æ®æ¨¡å‹ï¼ˆERå›¾ï¼‰
- è®¾è®¡é€»è¾‘æ•°æ®æ¨¡å‹
- è®¾è®¡ç‰©ç†æ•°æ®æ¨¡å‹
- è§„èŒƒåŒ–æ•°æ®åº“è®¾è®¡
- è®¾è®¡ç´¢å¼•ç­–ç•¥
- è®¾è®¡åˆ†åŒºå’Œåˆ†ç‰‡ç­–ç•¥

### 2. æ•°æ®è¿ç§»å’Œæ•°æ®åŒæ­¥

- è®¾è®¡æ•°æ®è¿ç§»æ–¹æ¡ˆ
- ç”Ÿæˆæ•°æ®è¿ç§»è„šæœ¬
- è®¾è®¡æ•°æ®åŒæ­¥ç­–ç•¥
- è®¾è®¡å¢é‡åŒæ­¥æœºåˆ¶
- è®¾è®¡æ•°æ®ä¸€è‡´æ€§æ ¡éªŒ

### 3. æ•°æ®å¤„ç†å’Œåˆ†æ

- è®¾è®¡ETLæµç¨‹
- ç”Ÿæˆæ•°æ®å¤„ç†è„šæœ¬
- è®¾è®¡æ•°æ®æ¸…æ´—è§„åˆ™
- è®¾è®¡æ•°æ®è½¬æ¢è§„åˆ™
- è®¾è®¡æ•°æ®èšåˆæ–¹æ¡ˆ

### 4. æ•°æ®æ€§èƒ½ä¼˜åŒ–

- ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
- è®¾è®¡ç¼“å­˜ç­–ç•¥
- ä¼˜åŒ–æ•°æ®åº“é…ç½®
- è®¾è®¡è¯»å†™åˆ†ç¦»ç­–ç•¥
- è®¾è®¡åˆ†åº“åˆ†è¡¨ç­–ç•¥

## ğŸ¤ åä½œå…³ç³»ä¸RACIçŸ©é˜µ

æœ¬æŠ€èƒ½ä¸»è¦ä¸ä»¥ä¸‹ç±»å‹æŠ€èƒ½åä½œ:

1. **å‰ç½®æŠ€èƒ½**: product-expertã€requirements-analyst
2. **åç½®æŠ€èƒ½**: backend-engineerã€frontend-engineerã€devops-generator
3. **åŒçº§æŠ€èƒ½**: æ— 
4. **ä¾èµ–æŠ€èƒ½**: technical-architect

### åä½œåœºæ™¯

| åœºæ™¯ | åä½œæŠ€èƒ½ | åä½œæ–¹å¼ | åä½œå†…å®¹ |
|------|----------|----------|----------|
| æ•°æ®æ¨¡å‹è®¾è®¡ | technical-architect | å¹¶è¡Œåä½œ | ç¡®ä¿æ•°æ®æ¨¡å‹ç¬¦åˆæ¶æ„çº¦æŸ |
| æ•°æ®åº“Schemaç”Ÿæˆ | backend-engineer | é¡ºåºåä½œ | æä¾›æ•°æ®åº“Schema,é…åˆåç«¯å¼€å‘ |
| æ•°æ®è¿ç§»è®¾è®¡ | backend-engineer | é¡ºåºåä½œ | è®¾è®¡æ•°æ®è¿ç§»æ–¹æ¡ˆ,ç”Ÿæˆè¿ç§»è„šæœ¬ |
| æ•°æ®åº“ä¼˜åŒ– | system-optimizer | å¹¶è¡Œåä½œ | åˆ†ææ•°æ®åº“æ€§èƒ½,æä¾›ä¼˜åŒ–å»ºè®® |
| æ•°æ®å®‰å…¨è®¾è®¡ | security-engineer | å¹¶è¡Œåä½œ | è®¾è®¡æ•°æ®è®¿é—®æ§åˆ¶å’ŒåŠ å¯†æ–¹æ¡ˆ |
| æ•°æ®åº“ç¾å¤‡ | disaster-recovery-planner | å¹¶è¡Œåä½œ | è®¾è®¡æ•°æ®åº“å¤‡ä»½å’Œæ¢å¤æ–¹æ¡ˆ |

### æœ¬æŠ€èƒ½åœ¨å„é˜¶æ®µçš„RACIè§’è‰²

| é˜¶æ®µ | æœ¬æŠ€èƒ½è§’è‰² | ä¸»è¦èŒè´£ |
|------|------------|----------|
| é˜¶æ®µ1: éœ€æ±‚æå‡º | I | äº†è§£æ•°æ®éœ€æ±‚,å‚ä¸éœ€æ±‚è¯„å®¡ |
| é˜¶æ®µ2: éœ€æ±‚åˆ†æ | C | å‚ä¸æ•°æ®éœ€æ±‚è®¨è®º |
| é˜¶æ®µ5: ä¸šåŠ¡å®ç° | C | å’¨è¯¢æ•°æ®åº“è®¾è®¡é—®é¢˜ |
| é˜¶æ®µ6: æ¶æ„ä¿éšœ | R/A | è®¾è®¡æ•°æ®æ¨¡å‹,è®¾è®¡æ•°æ®åº“Schema,è®¾è®¡æ•°æ®è¿ç§»æ–¹æ¡ˆ |
| é˜¶æ®µ7: æµ‹è¯•éªŒè¯ | C | åä½œè¿›è¡Œæ•°æ®åº“æµ‹è¯• |
| é˜¶æ®µ8: æ€§èƒ½ä¼˜åŒ– | R/A | ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½,è®¾è®¡ç´¢å¼•ç­–ç•¥ |
| é˜¶æ®µ11: DevOpsé…ç½® | C | åä½œé…ç½®æ•°æ®åº“å¤‡ä»½å’Œç›‘æ§ |

### æœ¬æŠ€èƒ½çš„æ ¸å¿ƒä»»åŠ¡RACI

| ä»»åŠ¡ | æœ¬æŠ€èƒ½ | backend-engineer | technical-architect | security-engineer |
|------|--------|-----------------|-----------------|------------------|
| æ•°æ®æ¨¡å‹è®¾è®¡ | R/A | C | C | C |
| æ•°æ®åº“Schemaç”Ÿæˆ | R/A | R/A | C | I |
| æ•°æ®è¿ç§»è®¾è®¡ | R/A | R/A | C | I |
| æ•°æ®åº“æ€§èƒ½ä¼˜åŒ– | R/A | C | C | I |
| æ•°æ®å®‰å…¨è®¾è®¡ | C | C | C | R/A |

### RACIè§’è‰²è¯´æ˜

- **R (Responsible)** - è´Ÿè´£äºº: æœ¬æŠ€èƒ½å®é™…æ‰§è¡Œçš„ä»»åŠ¡
- **A (Accountable)** - æ‹¥æœ‰äºº: æœ¬æŠ€èƒ½å¯¹ç»“æœè´Ÿæœ€ç»ˆè´£ä»»çš„ä»»åŠ¡
- **C (Consulted)** - å’¨è¯¢äºº: éœ€è¦å’¨è¯¢å…¶ä»–æŠ€èƒ½çš„ä»»åŠ¡
- **I (Informed)** - çŸ¥æƒ…äºº: éœ€è¦é€šçŸ¥å…¶ä»–æŠ€èƒ½è¿›å±•çš„ä»»åŠ¡

---

## âš ï¸ å†²çªå‡çº§è·¯å¾„

### å†²çªç±»å‹

æœ¬æŠ€èƒ½å¯èƒ½é‡åˆ°çš„å†²çªç±»å‹:

| å†²çªç±»å‹ | ä¸¥é‡ç¨‹åº¦ | é»˜è®¤å¤„ç†æ–¹å¼ |
|----------|----------|--------------|
| æ•°æ®æ¨¡å‹å†²çª | ä½ | ç›´æ¥åå•† |
| æ•°æ®åº“é€‰å‹åˆ†æ­§ | ä¸­ | ç¬¬ä¸‰æ–¹åè°ƒ |
| æ€§èƒ½ vs åŠŸèƒ½å†²çª | ä¸­ | ç¬¬ä¸‰æ–¹åè°ƒ |
| æ•°æ®å®‰å…¨ vs æ˜“ç”¨æ€§ | é«˜ | é¡¹ç›®åè°ƒå™¨ä»‹å…¥ |

### 4çº§å†²çªå‡çº§è·¯å¾„

#### Level 1: ç›´æ¥åå•†(æœ¬æŠ€èƒ½å†…éƒ¨)

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: ä½-ä¸­
- å†²çªç±»å‹: æ•°æ®æ¨¡å‹å†²çªã€æ•°æ®åº“é€‰å‹åˆ†æ­§
- å¤„ç†æ—¶é™: < 5åˆ†é’Ÿ

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel1(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. è¯†åˆ«å†²çªç±»å‹
  const conflictType = identifyConflictType(conflict);

  // 2. åˆ†æå†²çªåŸå› 
  const rootCause = analyzeRootCause(conflict);

  // 3. æå‡ºè§£å†³æ–¹æ¡ˆ
  const solutions = generateSolutions(conflictType, rootCause);

  // 4. è¯„ä¼°æ–¹æ¡ˆ
  const bestSolution = evaluateSolutions(solutions);

  // 5. æ‰§è¡Œè§£å†³æ–¹æ¡ˆ
  await implementSolution(bestSolution);

  // 6. è®°å½•ç»“æœ
  recordConflictResolution(conflict, bestSolution);

  return bestSolution;
}
```

#### Level 2: ç¬¬ä¸‰æ–¹åè°ƒ(ç›¸å…³æŠ€èƒ½åè°ƒ)

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: ä¸­
- å†²çªç±»å‹: æ€§èƒ½ vs åŠŸèƒ½å†²çªã€æ•°æ®å®‰å…¨ vs æ˜“ç”¨æ€§
- Level 1 å¤„ç†è¶…æ—¶: > 5åˆ†é’Ÿ
- å¤„ç†æ—¶é™: < 15åˆ†é’Ÿ

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel2(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. å‡çº§åˆ°ç¬¬ä¸‰æ–¹åè°ƒ
  const coordinator = selectCoordinator(conflict);

  // 2. é‚€è¯·ç›¸å…³æŠ€èƒ½å‚ä¸åè°ƒ
  const stakeholders = identifyStakeholders(conflict);

  // 3. å¬å¼€åè°ƒä¼šè®®
  const meeting = await conveneMeeting(coordinator, stakeholders);

  // 4. å„æ–¹é™ˆè¿°è§‚ç‚¹
  const viewpoints = await collectViewpoints(meeting);

  // 5. å…±åŒè¯„ä¼°è§£å†³æ–¹æ¡ˆ
  const solutions = await coCreateSolutions(viewpoints);

  // 6. è¾¾æˆå…±è¯†
  const resolution = await reachConsensus(solutions);

  // 7. è®°å½•åè°ƒç»“æœ
  recordMediationResult(conflict, resolution);

  return resolution;
}
```

#### Level 3: é¡¹ç›®åè°ƒå™¨ä»‹å…¥

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: é«˜
- å†²çªç±»å‹: æ¶æ„å±‚é¢çš„é‡å¤§åˆ†æ­§
- Level 2 å¤„ç†è¶…æ—¶: > 15åˆ†é’Ÿ
- å¤„ç†æ—¶é™: < 30åˆ†é’Ÿ

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel3(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. å‡çº§åˆ°é¡¹ç›®åè°ƒå™¨
  const projectCoordinator = await invokeSkill("project-coordinator");

  // 2. æä¾›å®Œæ•´çš„å†²çªä¸Šä¸‹æ–‡
  await projectCoordinator.reportConflict({
    conflict,
    history: getConflictHistory(conflict),
    level2Attempts: getLevel2Attempts(conflict),
  });

  // 3. åè°ƒå™¨ç»„ç»‡ä¸“é¡¹è¯„å®¡
  const review = await projectCoordinator.organizeReview({
    type: "conflict-resolution",
    participants: ["technical-architect", "backend-engineer", "data-engineer"],
    conflict,
  });

  // 4. è¯„å®¡ä¼šè®®
  const resolution = await review.conduct();

  // 5. è®°å½•æœ€ç»ˆå†³ç­–
  recordFinalDecision(conflict, resolution);

  return resolution;
}
```

#### Level 4: ç”¨æˆ·å¹²é¢„

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: æé«˜
- å†²çªç±»å‹: å½±å“é¡¹ç›®æ–¹å‘æˆ–æ ¸å¿ƒéœ€æ±‚çš„åˆ†æ­§
- Level 3 å¤„ç†è¶…æ—¶: > 30åˆ†é’Ÿ
- å¤„ç†æ—¶é™: ç”±ç”¨æˆ·å†³å®š

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel4(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. å‡†å¤‡å†²çªæŠ¥å‘Š
  const report = generateConflictReport({
    conflict,
    history: getConflictHistory(conflict),
    allAttempts: getAllResolutionAttempts(conflict),
    options: generateOptions(conflict),
  });

  // 2. æäº¤ç»™ç”¨æˆ·å†³ç­–
  const userDecision = await submitToUser({
    report,
    urgency: "high",
    context: "conflict-resolution",
  });

  // 3. æ‰§è¡Œç”¨æˆ·å†³ç­–
  await implementUserDecision(userDecision);

  // 4. è®°å½•æœ€ç»ˆå†³ç­–
  recordUserDecision(conflict, userDecision);

  return userDecision;
}
```

### åä½œåºåˆ—å›¾

```mermaid
sequenceDiagram
    participant PD as product-development-flow
    participant DE as data-engineer
    participant TA as technical-architect
    participant BE as backend-engineer
    participant SO as system-optimizer
    participant SE as security-engineer
    participant PC as project-coordinator

    PD->>DE: è§¦å‘æ•°æ®åº“è®¾è®¡ä»»åŠ¡
    DE->>TA: å’¨è¯¢æ¶æ„çº¦æŸ
    TA-->>DE: æä¾›æ¶æ„æŒ‡å¯¼
    DE->>DE: è®¾è®¡æ•°æ®æ¨¡å‹
    DE->>BE: æä¾›æ•°æ®åº“Schema
    BE-->>DE: ç¡®è®¤Schemaå¯ç”¨æ€§
    DE->>SO: å’¨è¯¢æ€§èƒ½ä¼˜åŒ–
    SO-->>DE: æä¾›ä¼˜åŒ–å»ºè®®
    DE->>SE: å’¨è¯¢æ•°æ®å®‰å…¨
    SE-->>DE: æä¾›å®‰å…¨æ–¹æ¡ˆ

    alt å‘ç”Ÿå†²çª
        DE->>DE: Level 1: å°è¯•ç›´æ¥åå•†
        alt Level 1 æ— æ³•è§£å†³
            DE->>TA: Level 2: è¯·æ±‚ç¬¬ä¸‰æ–¹åè°ƒ
            TA->>BE: é‚€è¯·å‚ä¸åè°ƒ
            BE->>SO: é‚€è¯·å‚ä¸åè°ƒ
            alt Level 2 æ— æ³•è§£å†³
                DE->>PC: Level 3: å‡çº§åˆ°é¡¹ç›®åè°ƒå™¨
                PC->>PC: ç»„ç»‡ä¸“é¡¹è¯„å®¡
                PC-->>DE: æä¾›å†³ç­–ç»“æœ
                alt Level 3 æ— æ³•è§£å†³
                    DE->>PC: Level 4: æäº¤ç»™ç”¨æˆ·
                    PC-->>DE: æ‰§è¡Œç”¨æˆ·å†³ç­–
                end
            end
        end
    end

    DE->>PD: è¿”å›æ•°æ®åº“è®¾è®¡æ–¹æ¡ˆ
```

### åä½œæ£€æŸ¥æ¸…å•

åœ¨ä¸ä»¥ä¸‹æŠ€èƒ½åä½œæ—¶,è¯·ä½¿ç”¨ä»¥ä¸‹æ£€æŸ¥æ¸…å•:

#### ä¸ technical-architect åä½œæ£€æŸ¥æ¸…å•

- [ ] æ•°æ®æ¨¡å‹ç¬¦åˆæ¶æ„çº¦æŸ
- [ ] æ•°æ®åº“é€‰å‹ç¬¦åˆæŠ€æœ¯æ ˆè¦æ±‚
- [ ] æ•°æ®åˆ†åŒºç­–ç•¥ç¬¦åˆæ¶æ„è®¾è®¡
- [ ] æ•°æ®åŒæ­¥æœºåˆ¶ç¬¦åˆç³»ç»Ÿæ¶æ„
- [ ] æ•°æ®è®¿é—®å±‚éµå¾ªæ¶æ„è§„èŒƒ

#### ä¸ backend-engineer åä½œæ£€æŸ¥æ¸…å•

- [ ] æ•°æ®åº“Schemaæ¸…æ™°å®Œæ•´
- [ ] æ•°æ®åº“è¿ç§»è„šæœ¬å¯æ‰§è¡Œ
- [ ] æ•°æ®åº“ç´¢å¼•åˆç†ä¸”é«˜æ•ˆ
- [ ] æ•°æ®åº“è¿æ¥æ± é…ç½®åˆç†
- [ ] æ•°æ®åº“äº‹åŠ¡ç­–ç•¥æ˜ç¡®

#### ä¸ system-optimizer åä½œæ£€æŸ¥æ¸…å•

- [ ] æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½è¾¾æ ‡
- [ ] æ•°æ®åº“ç´¢å¼•ç­–ç•¥ä¼˜åŒ–
- [ ] æ•°æ®åº“ç¼“å­˜ç­–ç•¥åˆç†
- [ ] æ•°æ®åº“åˆ†åŒºç­–ç•¥æœ‰æ•ˆ
- [ ] æ•°æ®åº“è¯»å†™åˆ†ç¦»æ–¹æ¡ˆå¯è¡Œ

#### ä¸ security-engineer åä½œæ£€æŸ¥æ¸…å•

- [ ] æ•æ„Ÿæ•°æ®åŠ å¯†æ–¹æ¡ˆæ˜ç¡®
- [ ] æ•°æ®è®¿é—®æ§åˆ¶ç­–ç•¥å®Œæ•´
- [ ] æ•°æ®å®¡è®¡æ—¥å¿—é…ç½®æ­£ç¡®
- [ ] æ•°æ®å¤‡ä»½åŠ å¯†ç­–ç•¥ç¡®å®š
- [ ] æ•°æ®è„±æ•ç­–ç•¥æ¸…æ™°

---

- **ä¸»è¦åä½œ**ï¼šproject-coordinatorï¼ˆæµç¨‹ç¼–æ’ä¸ä¸Šä¸‹æ–‡åŒæ­¥ï¼‰ã€product-development-flowï¼ˆåœ¨é˜¶æ®µ6æ¶æ„ä¿éšœè‡ªåŠ¨è§¦å‘ï¼‰ã€technical-architectï¼ˆæ¶æ„çº¦æŸä¸æ¥å£å¯¹é½ï¼‰ã€backend-engineerï¼ˆè½åœ°å®ç°ï¼‰ã€qa-engineerï¼ˆéªŒè¯æ•°æ®ä¸€è‡´æ€§ï¼‰ã€‚
- **RACIï¼ˆé˜¶æ®µ6 æ¶æ„ä¿éšœï¼‰**ï¼šdata-engineer è´Ÿè´£ï¼ˆRï¼‰ï¼Œproject-coordinator è´Ÿè´£æµç¨‹ä¸è®°å½•ï¼ˆAï¼‰ï¼Œtechnical-architect consultedï¼ˆCï¼‰ï¼Œproduct-expert å’Œ backend-engineer çŸ¥æƒ…å¹¶æ‰§è¡Œï¼ˆIï¼‰ã€‚
- **å‚è€ƒ**ï¼šå®Œæ•´çŸ©é˜µè§ [COLLABORATION_RACI.md](../../COLLABORATION_RACI.md)ã€‚

## ğŸ“‹ å·¥ä½œæµç¨‹

```mermaid
graph LR
    A[åˆ†æéœ€æ±‚] --> B[è®¾è®¡æ•°æ®æ¨¡å‹]
    B --> C[è®¾è®¡æ•°æ®åº“Schema]
    C --> D[è®¾è®¡ç´¢å¼•ç­–ç•¥]
    D --> E[è®¾è®¡è¿ç§»æ–¹æ¡ˆ]
    E --> F[ç”Ÿæˆè¿ç§»è„šæœ¬]
    F --> G[è®¾è®¡åŒæ­¥ç­–ç•¥]
    G --> H[ç”ŸæˆåŒæ­¥è„šæœ¬]
    H --> I[è®¾è®¡ETLæµç¨‹]
    I --> J[ç”Ÿæˆæ•°æ®æ–‡æ¡£]
```

## ğŸ”„ è¾“å…¥è¦æ±‚

### å¿…éœ€è¾“å…¥

- **ä¸šåŠ¡éœ€æ±‚**ï¼šåŠŸèƒ½éœ€æ±‚ã€æ•°æ®éœ€æ±‚
- **ç³»ç»Ÿæ¶æ„**ï¼šç³»ç»Ÿè§„æ¨¡ã€å¹¶å‘éœ€æ±‚
- **æŠ€æœ¯æ ˆ**ï¼šæ•°æ®åº“ç±»å‹ï¼ˆPostgreSQL/MySQL/MongoDBç­‰ï¼‰ã€ç¼–ç¨‹è¯­è¨€
- **æ•°æ®è§„æ¨¡**ï¼šé¢„ä¼°æ•°æ®é‡ã€å¢é•¿é€Ÿåº¦

### å¯é€‰è¾“å…¥

- **ç°æœ‰æ•°æ®ç»“æ„**ï¼šå·²æœ‰çš„æ•°æ®åº“Schema
- **è¿ç§»éœ€æ±‚**ï¼šæ˜¯å¦éœ€è¦æ•°æ®è¿ç§»
- **åŒæ­¥éœ€æ±‚**ï¼šæ˜¯å¦éœ€è¦å®æ—¶åŒæ­¥ã€åŒæ­¥é¢‘ç‡
- **æ€§èƒ½è¦æ±‚**ï¼šæŸ¥è¯¢æ€§èƒ½è¦æ±‚ã€å¹¶å‘è¦æ±‚

## ğŸ“¦ äº¤ä»˜ç‰©

### 1. æ•°æ®å»ºæ¨¡æ–‡æ¡£

#### ERå›¾ç¤ºä¾‹

```mermaid
erDiagram
    User ||--o{ Order : places
    User ||--o{ Address : has
    User {
        int id PK
        string name
        string email UK
        string password
        timestamp created_at
        timestamp updated_at
    }
    Order ||--|{ OrderItem : contains
    Order ||--|| User : belongs_to
    Order {
        int id PK
        int user_id FK
        decimal total_amount
        string status
        timestamp created_at
        timestamp updated_at
    }
    OrderItem ||--|| Order : belongs_to
    OrderItem ||--|| Product : references
    OrderItem {
        int id PK
        int order_id FK
        int product_id FK
        int quantity
        decimal unit_price
    }
    Product {
        int id PK
        string name
        string description
        decimal price
        int stock
        timestamp created_at
    }
    Address ||--|| User : belongs_to
    Address {
        int id PK
        int user_id FK
        string street
        string city
        string country
        string postal_code
    }
```

#### æ•°æ®å­—å…¸ç¤ºä¾‹

```markdown
# æ•°æ®å­—å…¸

## ğŸ“Š Userï¼ˆç”¨æˆ·è¡¨ï¼‰

| å­—æ®µå        | ç±»å‹         | çº¦æŸ                    | è¯´æ˜     |
| ------------- | ------------ | ----------------------- | -------- |
| id            | INT          | PK, AUTO_INCREMENT      | ç”¨æˆ·ID   |
| name          | VARCHAR(100) | NOT NULL                | ç”¨æˆ·å   |
| email         | VARCHAR(255) | UK, NOT NULL            | é‚®ç®±     |
| password_hash | VARCHAR(255) | NOT NULL                | å¯†ç å“ˆå¸Œ |
| created_at    | TIMESTAMP    | NOT NULL, DEFAULT NOW() | åˆ›å»ºæ—¶é—´ |
| updated_at    | TIMESTAMP    | NOT NULL, DEFAULT NOW() | æ›´æ–°æ—¶é—´ |

## ğŸ“Š Orderï¼ˆè®¢å•è¡¨ï¼‰

| å­—æ®µå       | ç±»å‹                                                         | çº¦æŸ                        | è¯´æ˜       |
| ------------ | ------------------------------------------------------------ | --------------------------- | ---------- |
| id           | INT                                                          | PK, AUTO_INCREMENT          | è®¢å•ID     |
| user_id      | INT                                                          | FK, NOT NULL                | ç”¨æˆ·ID     |
| total_amount | DECIMAL(10,2)                                                | NOT NULL                    | è®¢å•æ€»é‡‘é¢ |
| status       | ENUM('pending', 'paid', 'shipped', 'completed', 'cancelled') | NOT NULL, DEFAULT 'pending' | è®¢å•çŠ¶æ€   |
| created_at   | TIMESTAMP                                                    | NOT NULL, DEFAULT NOW()     | åˆ›å»ºæ—¶é—´   |
| updated_at   | TIMESTAMP                                                    | NOT NULL, DEFAULT NOW()     | æ›´æ–°æ—¶é—´   |

**ç´¢å¼•**ï¼š

- PRIMARY KEY (id)
- INDEX idx_user_id (user_id)
- INDEX idx_status (status)
- INDEX idx_created_at (created_at)
```

### 2. æ•°æ®åº“Schema

#### PostgreSQL Schemaç¤ºä¾‹

```sql
-- Users table
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_created_at ON users(created_at);

-- Orders table
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    total_amount DECIMAL(10,2) NOT NULL,
    status VARCHAR(20) NOT NULL DEFAULT 'pending',
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_orders_user_id ON orders(user_id);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_created_at ON orders(created_at);

-- Order items table
CREATE TABLE order_items (
    id SERIAL PRIMARY KEY,
    order_id INTEGER NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
    product_id INTEGER NOT NULL,
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    unit_price DECIMAL(10,2) NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_order_items_order_id ON order`items(order`id);
CREATE INDEX idx_order_items_product_id ON order`items(product`id);

-- Products table
CREATE TABLE products (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    price DECIMAL(10,2) NOT NULL,
    stock INTEGER NOT NULL DEFAULT 0,
    created_at TIMESTAMP NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_products_name ON products(name);
CREATE INDEX idx_products_price ON products(price);

-- Addresses table
CREATE TABLE addresses (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    street VARCHAR(255) NOT NULL,
    city VARCHAR(100) NOT NULL,
    country VARCHAR(100) NOT NULL,
    postal_code VARCHAR(20) NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT NOW()
);

-- Indexes
CREATE INDEX idx_addresses_user_id ON addresses(user_id);
```

### 3. æ•°æ®è¿ç§»è„šæœ¬

#### PostgreSQLè¿ç§»ç¤ºä¾‹

```typescript
// migrations/001_initial_schema.ts
import { Pool } from "pg";

export async function up(pool: Pool) {
  await pool.query(`
    CREATE TABLE IF NOT EXISTS users (
      id SERIAL PRIMARY KEY,
      name VARCHAR(100) NOT NULL,
      email VARCHAR(255) UNIQUE NOT NULL,
      password_hash VARCHAR(255) NOT NULL,
      created_at TIMESTAMP NOT NULL DEFAULT NOW(),
      updated_at TIMESTAMP NOT NULL DEFAULT NOW()
    );
  `);

  await pool.query(`
    CREATE TABLE IF NOT EXISTS orders (
      id SERIAL PRIMARY KEY,
      user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
      total_amount DECIMAL(10,2) NOT NULL,
      status VARCHAR(20) NOT NULL DEFAULT 'pending',
      created_at TIMESTAMP NOT NULL DEFAULT NOW(),
      updated_at TIMESTAMP NOT NULL DEFAULT NOW()
    );
  `);

  await pool.query(`
    CREATE TABLE IF NOT EXISTS order_items (
      id SERIAL PRIMARY KEY,
      order_id INTEGER NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
      product_id INTEGER NOT NULL,
      quantity INTEGER NOT NULL CHECK (quantity > 0),
      unit_price DECIMAL(10,2) NOT NULL,
      created_at TIMESTAMP NOT NULL DEFAULT NOW()
    );
  `);
}

export async function down(pool: Pool) {
  await pool.query("DROP TABLE IF EXISTS order_items CASCADE");
  await pool.query("DROP TABLE IF EXISTS orders CASCADE");
  await pool.query("DROP TABLE IF EXISTS users CASCADE");
}
```

### 4. æ•°æ®åŒæ­¥æ–¹æ¡ˆ

#### å¢é‡åŒæ­¥ç¤ºä¾‹

```typescript
// sync/incremental_sync.ts
import { Pool } from "pg";

export interface SyncConfig {
  sourceDatabase: string;
  targetDatabase: string;
  tables: string[];
  syncInterval: number; // seconds
  lastSyncTime?: Date;
}

export async function incrementalSync(pool: Pool, config: SyncConfig) {
  const lastSync = config.lastSyncTime || new Date(0);

  for (const table of config.tables) {
    console.log(`Syncing table: ${table}`);

    // ä»æºæ•°æ®åº“æŸ¥è¯¢å¢é‡æ•°æ®
    const sourceQuery = `
      SELECT *
      FROM ${table}
      WHERE updated_at > $1
      ORDER BY updated_at
    `;

    const result = await pool.query(sourceQuery, [lastSync]);

    // æ’å…¥æˆ–æ›´æ–°åˆ°ç›®æ ‡æ•°æ®åº“
    for (const row of result.rows) {
      const upsertQuery = `
        INSERT INTO ${table} (${Object.keys(row).join(", ")})
        VALUES (${Object.keys(row)
          .map((_, i) => `$${i + 2}`)
          .join(", ")})
        ON CONFLICT (id) DO UPDATE SET
          ${Object.keys(row)
            .filter((k) => k !== "id")
            .map((k) => `${k} = EXCLUDED.${k}`)
            .join(", ")}
      `;

      await pool.query(upsertQuery, [...Object.values(row), row]);
    }

    console.log(`Synced ${result.rows.length} rows from ${table}`);
  }

  // æ›´æ–°æœ€ååŒæ­¥æ—¶é—´
  config.lastSyncTime = new Date();
}
```

### 5. ETLæµç¨‹

#### ETLæµç¨‹ç¤ºä¾‹

```typescript
// etl/order_analytics.ts
import { Pool } from "pg";

export interface ETLConfig {
  sourceDatabase: string;
  targetDatabase: string;
  batchSize: number;
}

export async function processOrderAnalytics(pool: Pool, config: ETLConfig) {
  // Extract: ä»æºæ•°æ®åº“æå–æ•°æ®
  const extractQuery = `
    SELECT
      o.id,
      o.user_id,
      o.total_amount,
      o.status,
      o.created_at,
      u.name as user_name,
      u.email as user_email,
      COUNT(oi.id) as item_count,
      SUM(oi.quantity) as total_quantity
    FROM orders o
    JOIN users u ON o.user_id = u.id
    LEFT JOIN order`items oi ON o.id = oi.order`id
    WHERE o.created_at >= $1
    GROUP BY o.id, o.user_id, o.total_amount, o.status, o.created_at, u.name, u.email
  `;

  const { rows: rawData } = await pool.query(extractQuery, [
    new Date(Date.now() - 24 *60*60* 1000),
  ]);

  // Transform: è½¬æ¢æ•°æ®
  const transformedData = rawData.map((row) => ({
    order_id: row.id,
    user_id: row.user_id,
    user`name: row.user`name,
    user`email: row.user`email,
    total_amount: parseFloat(row.total_amount),
    status: row.status,
    item`count: parseInt(row.item`count) || 0,
    total`quantity: parseInt(row.total`quantity) || 0,
    avg_item_price:
      row.item_count > 0
        ? parseFloat(row.total_amount) / parseInt(row.item`count)
        : 0,
    created_at: row.created_at,
    processed_at: new Date(),
  }));

  // Load: åŠ è½½åˆ°ç›®æ ‡æ•°æ®åº“ï¼ˆåˆ†æè¡¨ï¼‰
  const loadQuery = `
    INSERT INTO order_analytics (
      order_id, user_id, user_name, user_email,
      total_amount, status, item_count, total_quantity,
      avg_item_price, created_at, processed_at
    ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)
    ON CONFLICT (order_id) DO UPDATE SET
      total_amount = EXCLUDED.total_amount,
      status = EXCLUDED.status,
      processed`at = EXCLUDED.processed`at
  `;

  for (const data of transformedData) {
    await pool.query(loadQuery, [
      data.order_id,
      data.user_id,
      data.user_name,
      data.user_email,
      data.total_amount,
      data.status,
      data.item_count,
      data.total_quantity,
      data.avg_item_price,
      data.created_at,
      data.processed_at,
    ]);
  }

  console.log(`Processed ${transformedData.length} order records`);
}
```

### 6. æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

#### æŸ¥è¯¢ä¼˜åŒ–ç¤ºä¾‹

```sql
-- æ·»åŠ å¤åˆç´¢å¼•ä¼˜åŒ–å¸¸è§æŸ¥è¯¢
CREATE INDEX idx_orders_user`status ON orders(user_id, status);
CREATE INDEX idx_orders_user`created ON orders(user_id, created_at DESC);

-- æ·»åŠ éƒ¨åˆ†ç´¢å¼•ä¼˜åŒ–ç‰¹å®šæ¡ä»¶
CREATE INDEX idx_active`orders ON orders(user_id, created_at) WHERE status IN ('pending', 'paid');

-- æ·»åŠ è¡¨è¾¾å¼ç´¢å¼•ä¼˜åŒ–ç‰¹å®šæŸ¥è¯¢
CREATE INDEX idx_users_email_lower ON users(LOWER(email));

-- æ·»åŠ GINç´¢å¼•ä¼˜åŒ–å…¨æ–‡æœç´¢
CREATE INDEX idx_products_name_gin ON products USING gin(to_tsvector('english', name));
CREATE INDEX idx_products_description_gin ON products USING gin(to_tsvector('english', description));

-- ä¼˜åŒ–æŸ¥è¯¢ç¤ºä¾‹
-- åŸå§‹æŸ¥è¯¢
SELECT * FROM orders WHERE user_id = 123 AND status = 'pending';

-- ä¼˜åŒ–åï¼ˆä½¿ç”¨è¦†ç›–ç´¢å¼•ï¼‰
SELECT o.id, o.total_amount, o.created_at
FROM orders o
WHERE o.user_id = 123 AND o.status = 'pending'
ORDER BY o.created_at DESC;

```

#### åˆ†åŒºè¡¨è®¾è®¡ç¤ºä¾‹

```sql
-- æŒ‰æ—¶é—´åˆ†åŒºè®¢å•è¡¨
CREATE TABLE orders (
    id BIGSERIAL,
    user_id INTEGER NOT NULL,
    total_amount DECIMAL(10,2) NOT NULL,
    status VARCHAR(20) NOT NULL,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
) PARTITION BY RANGE (created_at);

-- åˆ›å»ºåˆ†åŒº
CREATE TABLE orders_2024_01 PARTITION OF orders
    FOR VALUES FROM ('2024-01-01') TO ('2024-02-01');

CREATE TABLE orders_2024_02 PARTITION OF orders
    FOR VALUES FROM ('2024-02-01') TO ('2024-03-01');

-- è‡ªåŠ¨åˆ›å»ºåˆ†åŒºçš„å‡½æ•°
CREATE OR REPLACE FUNCTION create_monthly_partition()
RETURNS TRIGGER AS $$
BEGIN
    DECLARE
        partition_name TEXT;
        start_date TEXT;
        end_date TEXT;
    BEGIN
        partition_name := 'orders`' || to_char(NEW.created_at, 'YYYY_MM');
        start_date := to_char(date_trunc('month', NEW.created_at), 'YYYY-MM-DD');
        end_date := to_char(date_trunc('month', NEW.created_at) + interval '1 month', 'YYYY-MM-DD');

        EXECUTE format(
            'CREATE TABLE IF NOT EXISTS %I PARTITION OF orders FOR VALUES FROM (%L) TO (%L)',
            partition_name, start_date, end_date
        );

        RETURN NEW;
    END;
END;
$$ LANGUAGE plpgsql;

-- åˆ›å»ºè§¦å‘å™¨
CREATE TRIGGER trg_create_partition
    BEFORE INSERT ON orders
    FOR EACH ROW
    EXECUTE FUNCTION create_monthly_partition();

```

## ğŸ“Š æ•°æ®æ¨¡å‹è®¾è®¡åŸåˆ™

### 1. è§„èŒƒåŒ–åŸåˆ™

- **ç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰**ï¼šæ¶ˆé™¤é‡å¤çš„ç»„
- **ç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰**ï¼šæ¶ˆé™¤éƒ¨åˆ†ä¾èµ–
- **ç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰**ï¼šæ¶ˆé™¤ä¼ é€’ä¾èµ–
- **BCNF**ï¼šæ¶ˆé™¤å†³å®šå±æ€§ä¸æ˜¯å€™é€‰é”®çš„æƒ…å†µ

### 2. åè§„èŒƒåŒ–ç­–ç•¥

åœ¨æŸ¥è¯¢é¢‘ç¹ã€æ›´æ–°è¾ƒå°‘çš„åœºæ™¯ä¸‹ï¼Œé€‚å½“åè§„èŒƒåŒ–ï¼š

- æ·»åŠ å†—ä½™å­—æ®µ
- é¢„è®¡ç®—èšåˆæ•°æ®
- åˆå¹¶è¡¨

### 3. ç´¢å¼•è®¾è®¡åŸåˆ™

- ä¸ºé¢‘ç¹æŸ¥è¯¢çš„åˆ—åˆ›å»ºç´¢å¼•
- ä¸ºWHEREã€JOINã€ORDER BYå­å¥ä¸­çš„åˆ—åˆ›å»ºç´¢å¼•
- é¿å…è¿‡åº¦ç´¢å¼•ï¼ˆå½±å“å†™å…¥æ€§èƒ½ï¼‰
- ä½¿ç”¨å¤åˆç´¢å¼•ä¼˜åŒ–å¤šæ¡ä»¶æŸ¥è¯¢

### 4. åˆ†åŒºç­–ç•¥

- **èŒƒå›´åˆ†åŒº**ï¼šæŒ‰æ—¶é—´ã€æ•°å€¼èŒƒå›´
- **åˆ—è¡¨åˆ†åŒº**ï¼šæŒ‰æšä¸¾å€¼
- **å“ˆå¸Œåˆ†åŒº**ï¼šå‡åŒ€åˆ†å¸ƒæ•°æ®

## ğŸ” æŠ€æœ¯æ ˆé€‰æ‹©

### æ•°æ®åº“ç±»å‹é€‰æ‹©

| æ•°æ®ç±»å‹   | é€‚ç”¨åœºæ™¯             | æ¨èæ•°æ®åº“                |
| ---------- | -------------------- | ------------------------- |
| å…³ç³»å‹æ•°æ® | äº‹åŠ¡æ€§åº”ç”¨ã€å¤æ‚æŸ¥è¯¢ | PostgreSQL, MySQL         |
| æ–‡æ¡£å‹æ•°æ® | çµæ´»schemaã€åµŒå¥—æ•°æ® | MongoDB, PostgreSQL JSONB |
| é”®å€¼å­˜å‚¨   | é«˜æ€§èƒ½ç¼“å­˜ã€ä¼šè¯å­˜å‚¨ | Redis, Memcached          |
| æ—¶åºæ•°æ®   | ç›‘æ§ã€æ—¥å¿—ã€IoT      | TimescaleDB, InfluxDB     |
| å›¾æ•°æ®     | ç¤¾äº¤ç½‘ç»œã€æ¨èç³»ç»Ÿ   | Neo4j                     |

### è¿ç§»å·¥å…·é€‰æ‹©

| æ•°æ®åº“     | è¿ç§»å·¥å…·                         |
| ---------- | -------------------------------- |
| PostgreSQL | pg_migrate, Flyway, Liquibase    |
| MySQL      | mysql-migrate, Flyway, Liquibase |
| MongoDB    | mongo-migrate, migrate-mongo     |
| è·¨æ•°æ®åº“   | Apache NiFi, Talend              |

## ğŸ“ æ•°æ®æ–‡æ¡£

### æ•°æ®æ–‡æ¡£æ¨¡æ¿

```markdown
# æ•°æ®åº“è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº†[é¡¹ç›®åç§°]çš„æ•°æ®åº“è®¾è®¡ã€‚

## ğŸ“Š æ•°æ®æ¨¡å‹

[ERå›¾]

## ğŸ“Š æ•°æ®å­—å…¸

[æ•°æ®å­—å…¸è¡¨æ ¼]

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

- ç´¢å¼•ç­–ç•¥
- åˆ†åŒºç­–ç•¥
- ç¼“å­˜ç­–ç•¥

## ğŸ”„ æ•°æ®è¿ç§»

- è¿ç§»è„šæœ¬
- å›æ»šæ–¹æ¡ˆ

## ğŸ”„ æ•°æ®åŒæ­¥

- åŒæ­¥ç­–ç•¥
- åŒæ­¥é¢‘ç‡
- ä¸€è‡´æ€§ä¿è¯

## ğŸ”§ è¿ç»´

- å¤‡ä»½ç­–ç•¥
- æ¢å¤æµç¨‹
- ç›‘æ§æŒ‡æ ‡
```

## ğŸ”„ é›†æˆåˆ°å¼€å‘æµç¨‹

### è§¦å‘æ—¶æœº

1. **éœ€æ±‚åˆ†æé˜¶æ®µ**
   - åˆ†ææ•°æ®éœ€æ±‚
   - è®¾è®¡æ•°æ®æ¨¡å‹

2. **æ¶æ„è®¾è®¡é˜¶æ®µ**
   - ç¡®å®šæ•°æ®åº“é€‰å‹
   - è®¾è®¡æ•°æ®æ¶æ„

3. **å¼€å‘é˜¶æ®µ**
   - ç”Ÿæˆæ•°æ®åº“Schema
   - ç”Ÿæˆè¿ç§»è„šæœ¬

4. **è¿ç»´é˜¶æ®µ**
   - è®¾è®¡æ•°æ®åŒæ­¥æ–¹æ¡ˆ
   - è®¾è®¡æ•°æ®å¤‡ä»½ç­–ç•¥

### è°ƒç”¨æ–¹å¼

```typescript
const dataEngineer = await useSkill("data-engineer");

const dataDesign = await dataEngineer.design({
  requirements: productRequirements,
  databaseType: "postgresql",
  scale: "medium",
  migrationNeeded: true,
  syncNeeded: true,
});

await saveDatabaseSchema(dataDesign.schema);
await saveMigrationScripts(dataDesign.migrations);
await saveDataDocumentation(dataDesign.documentation);
```

## ğŸ“Š è´¨é‡æ ‡å‡†

- âœ… æ•°æ®æ¨¡å‹ç¬¦åˆä¸šåŠ¡éœ€æ±‚
- âœ… æ•°æ®åº“è®¾è®¡è§„èŒƒåŒ–ï¼ˆè‡³å°‘3NFï¼‰
- âœ… ç´¢å¼•è®¾è®¡åˆç†
- âœ… è¿ç§»è„šæœ¬å¯å›æ»š
- âœ… åŒæ­¥æ–¹æ¡ˆä¿è¯æ•°æ®ä¸€è‡´æ€§
- âœ… æ–‡æ¡£æ¸…æ™°å®Œæ•´

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ•°æ®ä¸€è‡´æ€§

- ä½¿ç”¨äº‹åŠ¡ä¿è¯ACID
- è®¾è®¡åˆç†çš„çº¦æŸï¼ˆå¤–é”®ã€å”¯ä¸€é”®ã€æ£€æŸ¥çº¦æŸï¼‰
- ä½¿ç”¨ä¹è§‚é”æˆ–æ‚²è§‚é”å¤„ç†å¹¶å‘

### æ€§èƒ½ä¼˜åŒ–

- é¿å…N+1æŸ¥è¯¢
- ä½¿ç”¨æ‰¹é‡æ“ä½œ
- åˆç†ä½¿ç”¨è¿æ¥æ± 
- å®šæœŸåˆ†ææŸ¥è¯¢æ€§èƒ½

### æ•°æ®å®‰å…¨

- æ•æ„Ÿæ•°æ®åŠ å¯†
- è®¿é—®æ§åˆ¶
- æ•°æ®è„±æ•
- å®¡è®¡æ—¥å¿—

---

## è°ƒç”¨å…¶ä»–æŠ€èƒ½

### è°ƒç”¨æ—¶æœº

æœ¬skillåœ¨ä»¥ä¸‹æƒ…å†µéœ€è¦ä¸»åŠ¨è°ƒç”¨å…¶ä»–æŠ€èƒ½ï¼š

1. **å®‰å…¨è®¾è®¡æ—¶** - è°ƒç”¨å®‰å…¨å·¥ç¨‹å¸ˆ
2. **æ€§èƒ½ä¼˜åŒ–æ—¶** - è°ƒç”¨ç³»ç»Ÿä¼˜åŒ–å¸ˆ
3. **ç¾å¤‡è®¾è®¡æ—¶** - è°ƒç”¨ç¾å¤‡è§„åˆ’å¸ˆ

### è°ƒç”¨çš„æŠ€èƒ½åŠåœºæ™¯

#### 1. è°ƒç”¨å®‰å…¨å·¥ç¨‹å¸ˆï¼ˆsecurity-engineerï¼‰

**è°ƒç”¨æ—¶æœº**ï¼š

- å½“éœ€è¦è®¾è®¡æ•°æ®å®‰å…¨ç­–ç•¥æ—¶
- å½“éœ€è¦è®¾è®¡æ•°æ®è®¿é—®æ§åˆ¶æ—¶
- å½“éœ€è¦å®æ–½æ•°æ®åŠ å¯†æ—¶

**è°ƒç”¨æ–¹å¼**ï¼š

```typescript
const securityEngineer = await useSkill("security-engineer");
const securityConfig = await securityEngineer.configureDataSecurity({
  dataType: dataType,
  sensitivity: sensitivityLevel,
});
```

**è°ƒç”¨åœºæ™¯**ï¼š

**åœºæ™¯1**ï¼šæ•°æ®è®¿é—®æ§åˆ¶

- **è¾“å…¥**ï¼šæ•°æ®æ¨¡å‹ã€æƒé™éœ€æ±‚
- **è°ƒç”¨**ï¼šsecurity-engineerè®¾è®¡RBACã€æ•°æ®æƒé™ç­–ç•¥
- **è¾“å‡º**ï¼šæƒé™è®¾è®¡ã€è®¿é—®æ§åˆ¶ç­–ç•¥

**åœºæ™¯2**ï¼šæ•°æ®åŠ å¯†æ–¹æ¡ˆ

- **è¾“å…¥**ï¼šæ•æ„Ÿæ•°æ®ç±»å‹ã€åŠ å¯†éœ€æ±‚
- **è°ƒç”¨**ï¼šsecurity-engineerè®¾è®¡åŠ å¯†æ–¹æ¡ˆ
- **è¾“å‡º**ï¼šåŠ å¯†ç®—æ³•é€‰æ‹©ã€å¯†é’¥ç®¡ç†æ–¹æ¡ˆ

#### 2. è°ƒç”¨ç³»ç»Ÿä¼˜åŒ–å¸ˆï¼ˆsystem-optimizerï¼‰

**è°ƒç”¨æ—¶æœº**ï¼š

- å½“éœ€è¦ä¼˜åŒ–æ•°æ®åº“æ€§èƒ½æ—¶
- å½“éœ€è¦è®¾è®¡ç¼“å­˜ç­–ç•¥æ—¶
- å½“éœ€è¦ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½æ—¶

**è°ƒç”¨æ–¹å¼**ï¼š

```typescript
const systemOptimizer = await useSkill("system-optimizer");
const optimizationPlan = await systemOptimizer.optimizeDatabase({
  queries: slowQueries,
  schema: databaseSchema,
});
```

**è°ƒç”¨åœºæ™¯**ï¼š

**åœºæ™¯1**ï¼šæŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–

- **è¾“å…¥**ï¼šæ…¢æŸ¥è¯¢æ—¥å¿—ã€Schemaä¿¡æ¯
- **è°ƒç”¨**ï¼šsystem-optimizeråˆ†ææ€§èƒ½ç“¶é¢ˆã€æä¾›ä¼˜åŒ–å»ºè®®
- **è¾“å‡º**ï¼šç´¢å¼•ä¼˜åŒ–å»ºè®®ã€æŸ¥è¯¢é‡å†™æ–¹æ¡ˆ

**åœºæ™¯2**ï¼šç¼“å­˜ç­–ç•¥è®¾è®¡

- **è¾“å…¥**ï¼šè®¿é—®æ¨¡å¼ã€æ•°æ®ç‰¹å¾
- **è°ƒç”¨**ï¼šsystem-optimizerè®¾è®¡ç¼“å­˜ç­–ç•¥
- **è¾“å‡º**ï¼šç¼“å­˜æ¶æ„ã€ç¼“å­˜å¤±æ•ˆç­–ç•¥

#### 3. è°ƒç”¨ç¾å¤‡è§„åˆ’å¸ˆï¼ˆdisaster-recovery-plannerï¼‰

**è°ƒç”¨æ—¶æœº**ï¼š

- å½“éœ€è¦è®¾è®¡æ•°æ®åº“ç¾å¤‡æ–¹æ¡ˆæ—¶
- å½“éœ€è¦è®¾è®¡å¤‡ä»½ç­–ç•¥æ—¶
- å½“éœ€è¦è®¾è®¡æ•°æ®æ¢å¤æµç¨‹æ—¶

**è°ƒç”¨æ–¹å¼**ï¼š

```typescript
const disasterRecoveryPlanner = await useSkill("disaster-recovery-planner");
const backupPlan = await disasterRecoveryPlanner.designDataBackup({
  database: databaseType,
  rpo: recoveryPointObjective,
  rto: recoveryTimeObjective,
});
```

**è°ƒç”¨åœºæ™¯**ï¼š

**åœºæ™¯1**ï¼šæ•°æ®åº“ç¾å¤‡æ–¹æ¡ˆ

- **è¾“å…¥**ï¼šæ•°æ®åº“ç±»å‹ã€ä¸šåŠ¡è¿ç»­æ€§è¦æ±‚
- **è°ƒç”¨**ï¼šdisaster-recovery-plannerè®¾è®¡ç¾å¤‡æ¶æ„
- **è¾“å‡º**ï¼šç¾å¤‡æ–¹æ¡ˆã€å¤‡ä»½ç­–ç•¥ã€æ¢å¤æµç¨‹

**åœºæ™¯2**ï¼šå¤‡ä»½éªŒè¯æœºåˆ¶

- **è¾“å…¥**ï¼šå¤‡ä»½è®¡åˆ’ã€æ¢å¤ç›®æ ‡
- **è°ƒç”¨**ï¼šdisaster-recovery-plannerè®¾è®¡éªŒè¯æµç¨‹
- **è¾“å‡º**ï¼šéªŒè¯è„šæœ¬ã€æ¼”ç»ƒè®¡åˆ’

### è°ƒç”¨æ³¨æ„äº‹é¡¹

1. **å®‰å…¨ä¼˜å…ˆ**ï¼šæ•°æ®å®‰å…¨è°ƒç”¨åº”ä¼˜å…ˆäºå…¶ä»–ä¼˜åŒ–
2. **æ€§èƒ½è¯„ä¼°**ï¼šè°ƒç”¨ç³»ç»Ÿä¼˜åŒ–å¸ˆå‰å‡†å¤‡å¥½æ€§èƒ½åŸºçº¿æ•°æ®
3. **å¤‡ä»½éªŒè¯**ï¼šç¾å¤‡æ–¹æ¡ˆå¿…é¡»åŒ…å«å®šæœŸéªŒè¯æœºåˆ¶
4. **è·¨åº“åŒæ­¥**ï¼šå¤šæ•°æ®åº“åœºæ™¯éœ€è¦åè°ƒç»Ÿä¸€çš„å¤‡ä»½ç­–ç•¥

---

## æ€»ç»“

Data Engineer Skillä¸“æ³¨äºï¼š

1. âœ… æ•°æ®å»ºæ¨¡å’Œæ•°æ®åº“è®¾è®¡
2. âœ… æ•°æ®è¿ç§»å’Œæ•°æ®åŒæ­¥
3. âœ… æ•°æ®å¤„ç†å’Œåˆ†æï¼ˆETLï¼‰
4. âœ… æ•°æ®æ€§èƒ½ä¼˜åŒ–
5. âœ… ç”Ÿæˆæ•°æ®æ–‡æ¡£

**æŠ€æœ¯æ”¯æŒ**ï¼š

- PostgreSQL, MySQL, MongoDB
- æ•°æ®è¿ç§»å·¥å…·
- ETLå·¥å…·
- æ€§èƒ½åˆ†æå’Œä¼˜åŒ–

---

## ğŸ“š å‚è€ƒèµ„æ–™

### å…¨å±€å‚è€ƒèµ„æ–™

æœ¬skillå‚è€ƒä»¥ä¸‹å…¨å±€å‚è€ƒèµ„æ–™ï¼š

#### ç¼–ç æœ€ä½³å®è·µ

- **ç¼–ç è§„èŒƒ**ï¼š`references/best-practices/coding.md`
  - å‘½åè§„èŒƒï¼ˆå˜é‡ã€å‡½æ•°ã€ç±»ï¼‰
  - å‡½æ•°è®¾è®¡åŸåˆ™
  - ä»£ç ç»„ç»‡è§„èŒƒ
  - æ³¨é‡Šè§„èŒƒ
  - é”™è¯¯å¤„ç†è§„èŒƒ

#### è®¾è®¡æ¨¡å¼

- **åˆ›å»ºå‹æ¨¡å¼**ï¼š`references/design-patterns/creational.md`
  - å·¥å‚æ¨¡å¼ï¼ˆç”¨äºåˆ›å»ºæ•°æ®è®¿é—®å¯¹è±¡ï¼‰
  - å»ºé€ è€…æ¨¡å¼ï¼ˆç”¨äºå¤æ‚æŸ¥è¯¢æ„å»ºï¼‰

- **ç»“æ„å‹æ¨¡å¼**ï¼š`references/design-patterns/structural.md`
  - é€‚é…å™¨æ¨¡å¼ï¼ˆç”¨äºæ•°æ®æºé€‚é…ï¼‰
  - è£…é¥°å™¨æ¨¡å¼ï¼ˆç”¨äºæŸ¥è¯¢å¢å¼ºï¼‰

#### æ¶æ„å‚è€ƒ

- **å…­è¾¹å½¢æ¶æ„**ï¼š`references/architecture/hexagonal-architecture.md`
  - ç«¯å£å’Œé€‚é…å™¨è®¾è®¡
  - é¢†åŸŸå±‚å’Œæ•°æ®å±‚åˆ†ç¦»
  - ä¾èµ–å€’ç½®åŸåˆ™

### æœ¬skillç‰¹æœ‰å‚è€ƒèµ„æ–™

æœ¬skillä½¿ç”¨ä»¥ä¸‹ç‰¹æœ‰çš„å‚è€ƒèµ„æ–™ï¼š

- **[æ•°æ®å»ºæ¨¡æŒ‡å—](references/data-modeling.md)**
  - ERå›¾æ¨¡æ¿å’Œç¤ºä¾‹
  - æ•°æ®å­—å…¸æ¨¡æ¿
  - Schemaç¤ºä¾‹ï¼ˆPostgreSQLã€MySQLã€MongoDBï¼‰
  - è§†å›¾å’Œå­˜å‚¨è¿‡ç¨‹æ¨¡æ¿
  - æ•°æ®è¿ç§»è„šæœ¬æ¨¡æ¿
  - ETLæµç¨‹æ¨¡æ¿
  - æŸ¥è¯¢ä¼˜åŒ–æœ€ä½³å®è·µ
  - ç´¢å¼•è®¾è®¡æŒ‡å—
  - æ•°æ®åˆ†åŒºç­–ç•¥
  - æ•°æ®å¤‡ä»½å’Œæ¢å¤æ–¹æ¡ˆ

---

## ğŸ› ï¸ å·¥å…·è„šæœ¬

### å…¨å±€å·¥å…·è„šæœ¬

æœ¬skillä½¿ç”¨ä»¥ä¸‹å…¨å±€å·¥å…·è„šæœ¬ï¼š

#### å·¥å…·å‡½æ•°

- **Loggerå·¥å…·**ï¼š`scripts/utils/logger.ts`

  ```typescript
  import { createLogger } from "@codebuddy/scripts/utils/logger";
  const logger = createLogger("data-engineer");
  logger.info("å¼€å§‹æ•°æ®å»ºæ¨¡");
  logger.skillComplete("data-engineer", 5000);
  ```

- **FileManagerå·¥å…·**ï¼š`scripts/utils/file-manager.ts`

  ```typescript
  import { FileManager } from "@codebuddy/scripts/utils/file-manager";
  const fm = new FileManager();
  await fm.createDirectory("./database/migrations");
  await fm.writeFile("./database/migrations/001_initial.sql", migrationScript);
  ```

- **ContextManagerå·¥å…·**ï¼š`scripts/utils/context-manager.ts`

  ```typescript
  import { ContextManager } from "@codebuddy/scripts/utils/context-manager";
  const ctx = new ContextManager();
  ctx.set("database", "postgresql");
  ctx.set("orm", "typeorm");
  ```

#### éªŒè¯è„šæœ¬

- **CodeValidator**ï¼š`scripts/validators/code-validator.ts`

  ```typescript
  import { CodeValidator } from "@codebuddy/scripts/validators/code-validator";
  const validator = new CodeValidator();
  const result = await validator.validate("./src/entities", {
    language: "typescript",
    checkSQL: true,
  });
  ```

### æœ¬skillç‰¹æœ‰è„šæœ¬

æœ¬skillä½¿ç”¨ä»¥ä¸‹ç‰¹æœ‰çš„å·¥å…·è„šæœ¬ï¼š

- **[SchemaGenerator](scripts/schema-generator.ts)** ç”¨äºç”Ÿæˆæ•°æ®åº“Schemaå’Œç›¸å…³ä»£ç ã€‚

  ```typescript
  import { SchemaGenerator } from "./scripts/schema-generator";

  // åˆ›å»ºç”Ÿæˆå™¨
  const generator = new SchemaGenerator({
    database: "postgresql",
    orm: "typeorm",
    features: {
      migration: true,
      seedData: true,
      indexing: true,
      documentation: true,
    },
  });

  // ä»ERå›¾ç”ŸæˆSchema
  const schema = await generator.generateFromERD(erdFile);
  console.log(schema);

  // ç”Ÿæˆå®ä½“æ¨¡å‹
  const entityCode = generator.generateEntity("User");
  console.log(entityCode);

  // ç”Ÿæˆè¿ç§»è„šæœ¬
  const migration = generator.generateMigration("001_initial");
  console.log(migration);

  // ç”Ÿæˆç§å­æ•°æ®
  const seedData = generator.generateSeedData("users");
  console.log(seedData);

  // ç”Ÿæˆç´¢å¼•
  const indexSQL = generator.generateIndex("users", "email");
  console.log(indexSQL);
  ```

  **æ”¯æŒçš„åŠŸèƒ½**ï¼š

  - **ERå›¾è§£æ**ï¼šæ”¯æŒå¤šç§ERå›¾æ ¼å¼ï¼ˆdraw.ioã€Mermaidã€PlantUMLï¼‰
  - **Schemaç”Ÿæˆ**ï¼šæ”¯æŒPostgreSQLã€MySQLã€MongoDBç­‰å¤šç§æ•°æ®åº“
  - **è¿ç§»è„šæœ¬ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“è¿ç§»è„šæœ¬
  - **ç§å­æ•°æ®ç”Ÿæˆ**ï¼šç”Ÿæˆæµ‹è¯•ç”¨çš„ç§å­æ•°æ®
  - **ç´¢å¼•ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆç´¢å¼•SQL
  - **æ–‡æ¡£ç”Ÿæˆ**ï¼šç”Ÿæˆæ•°æ®å­—å…¸å’ŒAPIæ–‡æ¡£
  - **ä»£ç ç”Ÿæˆ**ï¼šç”ŸæˆORMå®ä½“æ¨¡å‹ä»£ç ï¼ˆTypeScriptã€Pythonã€Javaï¼‰

  **ä½¿ç”¨åœºæ™¯**ï¼š

  - æ ¹æ®ä¸šåŠ¡éœ€æ±‚å¿«é€Ÿè®¾è®¡æ•°æ®åº“Schema
  - ç”Ÿæˆæ•°æ®åº“è¿ç§»è„šæœ¬
  - åˆ›å»ºæµ‹è¯•æ•°æ®
  - ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
  - ç”Ÿæˆæ•°æ®æ–‡æ¡£

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šè®¾è®¡æ•°æ®æ¨¡å‹

**åœºæ™¯æè¿°**ï¼šè®¾è®¡åšå®¢ç³»ç»Ÿçš„æ•°æ®æ¨¡å‹

**è¾“å…¥ç¤ºä¾‹**ï¼š

```text

è¯·è®¾è®¡åšå®¢ç³»ç»Ÿçš„æ•°æ®æ¨¡å‹ï¼ŒåŒ…æ‹¬ï¼š

1. ç”¨æˆ·è¡¨

2. æ–‡ç« è¡¨

3. è¯„è®ºè¡¨

```

**è°ƒç”¨æ–¹å¼**ï¼š

```bash
invoke skill data-engineer

```

**è¾“å‡ºç¤ºä¾‹**ï¼š

```typescript
// æ•°æ®æ¨¡å‹å®šä¹‰
interface User {
  id: string;
  username: string;
  email: string;
  createdAt: Date;
}

interface Article {
  id: string;
  authorId: string;
  title: string;
  content: string;
  createdAt: Date;
}

interface Comment {
  id: string;
  articleId: string;
  userId: string;
  content: string;
  createdAt: Date;
}

```

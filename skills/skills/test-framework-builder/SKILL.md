---
name: test-framework-builder
description: åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­æ­å»ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶å’ŒåŸºç¡€è®¾æ–½ã€‚
---

# Test Framework Builder SKILL

æœ¬skillç”¨äºåœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­æ­å»ºå®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶å’ŒåŸºç¡€è®¾æ–½ã€‚

**ğŸ’¡ é‡è¦è¯´æ˜**: æœ¬æŠ€èƒ½æ—¢å¯ä»¥ä½œä¸ºäº§å“å¼€å‘æµç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥åœ¨ä»»ä½•é€‚åˆçš„åœºæ™¯ä¸‹ç‹¬ç«‹ä½¿ç”¨ã€‚
ä¸éœ€è¦ç”¨æˆ·æ˜ç¡®å£°æ˜"æˆ‘æ˜¯æµ‹è¯•æ¡†æ¶æ„å»ºè€…"ï¼Œåªè¦ç”¨æˆ·çš„éœ€æ±‚æ¶‰åŠæµ‹è¯•æ¡†æ¶æ­å»ºï¼Œå°±å¯ä»¥è°ƒç”¨æœ¬æŠ€èƒ½ã€‚

## ä½•æ—¶ä½¿ç”¨æœ¬Skill

æœ¬skillå¯ä»¥åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºäº§å“å¼€å‘æµç¨‹çš„ä¸€éƒ¨åˆ†ï¼š

### ç‹¬ç«‹ä½¿ç”¨åœºæ™¯

**åœºæ™¯1: æµ‹è¯•æ¡†æ¶åˆå§‹åŒ–**

- "å¸®æˆ‘æ­å»ºé¡¹ç›®çš„å•å…ƒæµ‹è¯•æ¡†æ¶"
- "é…ç½®Jestæµ‹è¯•æ¡†æ¶"
- "è®¾ç½®Vitestæµ‹è¯•ç¯å¢ƒ"
- "é›†æˆMochaæµ‹è¯•æ¡†æ¶"

**åœºæ™¯2: æµ‹è¯•é…ç½®ç”Ÿæˆ**

- "ç”Ÿæˆæµ‹è¯•é…ç½®æ–‡ä»¶"
- "é…ç½®æµ‹è¯•è¦†ç›–ç‡å·¥å…·"
- "è®¾ç½®æµ‹è¯•ç¯å¢ƒå˜é‡"
- "é…ç½®æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ"

**åœºæ™¯3: æµ‹è¯•æ¨¡æ¿ç”Ÿæˆ**

- "ç”Ÿæˆç»„ä»¶æµ‹è¯•æ¨¡æ¿"
- "ç”ŸæˆAPIæµ‹è¯•æ¨¡æ¿"
- "ç”ŸæˆE2Eæµ‹è¯•æ¨¡æ¿"
- "ç”Ÿæˆæµ‹è¯•å·¥å…·å‡½æ•°"

**åœºæ™¯4: æµ‹è¯•åŸºç¡€è®¾æ–½æ­å»º**

- "æ­å»ºæµ‹è¯•æ•°æ®ç”Ÿæˆå·¥å…·"
- "æ­å»ºæµ‹è¯•Mockå·¥å…·"
- "æ­å»ºæµ‹è¯•è¾…åŠ©å·¥å…·"
- "æ­å»ºæµ‹è¯•æŠ¥å‘Šç³»ç»Ÿ"

### äº§å“å¼€å‘æµç¨‹é›†æˆ

åœ¨äº§å“å¼€å‘æµç¨‹çš„**é˜¶æ®µ10: æµ‹è¯•æ¡†æ¶æ­å»º**ä¸­è¢«è°ƒç”¨ï¼Œä½œä¸ºæµ‹è¯•æ¡†æ¶æ„å»ºè€…è§’è‰²ã€‚

**è°ƒç”¨æ–¹å¼**: ç”±product-development-flowè‡ªåŠ¨è°ƒç”¨ï¼Œä¼ é€’æŠ€æœ¯æ ˆã€é¡¹ç›®ç»“æ„ç­‰ä¸Šä¸‹æ–‡ã€‚

**è§¦å‘æ—¶æœº**:

- ä¸šåŠ¡å®ç°å®Œæˆï¼Œéœ€è¦æ­å»ºæµ‹è¯•æ¡†æ¶æ—¶
- éœ€è¦ä¸ºæ–°åŠŸèƒ½ç”Ÿæˆæµ‹è¯•æ¨¡æ¿æ—¶

### è§¦å‘å…³é”®è¯

ä»¥ä¸‹å…³é”®è¯æˆ–çŸ­è¯­å‡ºç°æ—¶ï¼Œå»ºè®®è°ƒç”¨æœ¬skillï¼š

**æµ‹è¯•æ¡†æ¶ç±»**:

- "æ­å»ºæµ‹è¯•æ¡†æ¶"ã€"æµ‹è¯•æ¡†æ¶é…ç½®"
- "æµ‹è¯•æ¡†æ¶åˆå§‹åŒ–"ã€"æµ‹è¯•åŸºç¡€æ¶æ„"

**æµ‹è¯•é…ç½®ç±»**:

- "æµ‹è¯•é…ç½®"ã€"é…ç½®æµ‹è¯•ç¯å¢ƒ"
- "æµ‹è¯•è¦†ç›–ç‡"ã€"æµ‹è¯•æŠ¥å‘Š"

**æµ‹è¯•æ¨¡æ¿ç±»**:

- "æµ‹è¯•æ¨¡æ¿"ã€"ç”Ÿæˆæµ‹è¯•ä»£ç "
- "æµ‹è¯•ç¤ºä¾‹"ã€"æµ‹è¯•å·¥å…·"

**æµ‹è¯•å·¥å…·ç±»**:

- "æµ‹è¯•å·¥å…·"ã€"Mockå·¥å…·"
- "æµ‹è¯•æ•°æ®ç”Ÿæˆ"ã€"æµ‹è¯•è¾…åŠ©"

## ğŸ¯ æ ¸å¿ƒèŒè´£

### 1. å•å…ƒæµ‹è¯•æ¡†æ¶æ­å»º

ç”Ÿæˆå•å…ƒæµ‹è¯•é…ç½®å’Œç¤ºä¾‹ä»£ç ï¼ŒåŒ…æ‹¬ï¼š

- æµ‹è¯•æ¡†æ¶é…ç½®ï¼ˆJest, Vitest, Mocha, JUnitç­‰ï¼‰
- æµ‹è¯•è¿è¡Œé…ç½®
- Mockå·¥å…·é…ç½®ï¼ˆsinon, jest-mockç­‰ï¼‰
- è¦†ç›–ç‡æŠ¥å‘Šé…ç½®
- ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹

### 2. é›†æˆæµ‹è¯•æ¡†æ¶æ­å»º

ç”Ÿæˆé›†æˆæµ‹è¯•é…ç½®å’Œå·¥å…·ï¼ŒåŒ…æ‹¬ï¼š

- æµ‹è¯•å®¹å™¨é…ç½®ï¼ˆTestContainersï¼‰
- æ•°æ®åº“æµ‹è¯•é…ç½®
- APIæµ‹è¯•æ¡†æ¶é…ç½®ï¼ˆSupertest, axios-mock-adapterç­‰ï¼‰
- æµ‹è¯•æ•°æ®ç®¡ç†ï¼ˆfactories, fixturesï¼‰

### 3. E2Eæµ‹è¯•æ¡†æ¶æ­å»º

ç”Ÿæˆç«¯åˆ°ç«¯æµ‹è¯•é…ç½®ï¼ŒåŒ…æ‹¬ï¼š

- E2Eæµ‹è¯•æ¡†æ¶ï¼ˆPlaywright, Cypress, Puppeteerï¼‰
- æµ‹è¯•ç¯å¢ƒé…ç½®
- é¡µé¢å¯¹è±¡æ¨¡å¼ï¼ˆPOMï¼‰æ¨¡æ¿
- æµ‹è¯•è„šæœ¬æ¨¡æ¿

### 4. æµ‹è¯•å·¥å…·é“¾é…ç½®

é…ç½®æµ‹è¯•è¾…åŠ©å·¥å…·ï¼ŒåŒ…æ‹¬ï¼š

- ä»£ç è¦†ç›–ç‡å·¥å…·ï¼ˆIstanbul, nycï¼‰
- æµ‹è¯•æŠ¥å‘Šå·¥å…·ï¼ˆMochawesome, Allureï¼‰
- æ€§èƒ½æµ‹è¯•å·¥å…·ï¼ˆk6, JMeterï¼‰
- è§†è§‰å›å½’æµ‹è¯•å·¥å…·ï¼ˆPercy, Chromaticï¼‰

### 5. æµ‹è¯•æ•°æ®ç®¡ç†

ç”Ÿæˆæµ‹è¯•æ•°æ®ç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬ï¼š

- å·¥å‚å‡½æ•°ï¼ˆfactory-bot, fakerï¼‰
- æµ‹è¯•fixtureæ¨¡æ¿
- æ•°æ®åº“ç§å­è„šæœ¬
- Mock APIæœåŠ¡å™¨é…ç½®

## ğŸ¤ åä½œå…³ç³»ä¸RACIçŸ©é˜µ

æœ¬æŠ€èƒ½ä¸»è¦ä¸ä»¥ä¸‹ç±»å‹æŠ€èƒ½åä½œ:

1. **å‰ç½®æŠ€èƒ½**: technical-architectã€backend-engineerã€frontend-engineer
2. **åç½®æŠ€èƒ½**: tester
3. **åŒçº§æŠ€èƒ½**: æ— 
4. **ä¾èµ–æŠ€èƒ½**: devops-generator

### åä½œåœºæ™¯

| åœºæ™¯ | åä½œæŠ€èƒ½ | åä½œæ–¹å¼ | åä½œå†…å®¹ |
|------|----------|----------|----------|
| æµ‹è¯•æ¡†æ¶é€‰æ‹© | technical-architect | å¹¶è¡Œåä½œ | æ ¹æ®æŠ€æœ¯æ ˆé€‰æ‹©æµ‹è¯•æ¡†æ¶ |
| åç«¯æµ‹è¯•é…ç½® | backend-engineer | é¡ºåºåä½œ | é…ç½®åç«¯æµ‹è¯•ç¯å¢ƒ,ç”Ÿæˆæµ‹è¯•æ¨¡æ¿ |
| å‰ç«¯æµ‹è¯•é…ç½® | frontend-engineer | é¡ºåºåä½œ | é…ç½®å‰ç«¯æµ‹è¯•ç¯å¢ƒ,ç”Ÿæˆæµ‹è¯•æ¨¡æ¿ |
| CI/CDé›†æˆ | devops-generator | é¡ºåºåä½œ | é›†æˆæµ‹è¯•åˆ°CI/CDæµç¨‹ |
| æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡ | qa-engineer | å¹¶è¡Œåä½œ | ç¡®å®šæµ‹è¯•è¦†ç›–ç‡ç›®æ ‡ |

### æœ¬æŠ€èƒ½åœ¨å„é˜¶æ®µçš„RACIè§’è‰²

| é˜¶æ®µ | æœ¬æŠ€èƒ½è§’è‰² | ä¸»è¦èŒè´£ |
|------|------------|----------|
| é˜¶æ®µ1: éœ€æ±‚æå‡º | I | äº†è§£æµ‹è¯•éœ€æ±‚,å‚ä¸éœ€æ±‚è¯„å®¡ |
| é˜¶æ®µ2: éœ€æ±‚åˆ†æ | I | å‚ä¸æµ‹è¯•ç­–ç•¥è®¨è®º |
| é˜¶æ®µ5: ä¸šåŠ¡å®ç° | I | äº†è§£å¼€å‘è¿›å±•,å‡†å¤‡æµ‹è¯•æ¡†æ¶ |
| é˜¶æ®µ6: æ¶æ„ä¿éšœ | I | äº†è§£æ¶æ„è®¾è®¡,é€‰æ‹©æµ‹è¯•æ¡†æ¶ |
| é˜¶æ®µ10: æµ‹è¯•æ¡†æ¶æ­å»º | R/A | æ­å»ºæµ‹è¯•æ¡†æ¶,ç”Ÿæˆæµ‹è¯•é…ç½®,ç”Ÿæˆæµ‹è¯•æ¨¡æ¿ |
| é˜¶æ®µ11: DevOpsé…ç½® | R/A | é…ç½®æµ‹è¯•CI/CD,é…ç½®æµ‹è¯•ç¯å¢ƒ |
| é˜¶æ®µ12: é¡¹ç›®åè°ƒä¸äº¤ä»˜ | I | çŸ¥æ™“æµ‹è¯•æ¡†æ¶çŠ¶æ€,ç¡®è®¤äº¤ä»˜ |

### æœ¬æŠ€èƒ½çš„æ ¸å¿ƒä»»åŠ¡RACI

| ä»»åŠ¡ | æœ¬æŠ€èƒ½ | technical-architect | backend-engineer | frontend-engineer | devops-generator |
|------|--------|-----------------|-----------------|-----------------|-----------------|
| æµ‹è¯•æ¡†æ¶é€‰æ‹© | R/A | C | C | C | I |
| å•å…ƒæµ‹è¯•é…ç½® | R/A | C | C | C | I |
| é›†æˆæµ‹è¯•é…ç½® | R/A | C | R/A | C | C |
| E2Eæµ‹è¯•é…ç½® | R/A | C | C | R/A | C |
| CI/CDé›†æˆ | R/A | I | C | C | R/A |

### RACIè§’è‰²è¯´æ˜

- **R (Responsible)** - è´Ÿè´£äºº: æœ¬æŠ€èƒ½å®é™…æ‰§è¡Œçš„ä»»åŠ¡
- **A (Accountable)** - æ‹¥æœ‰äºº: æœ¬æŠ€èƒ½å¯¹ç»“æœè´Ÿæœ€ç»ˆè´£ä»»çš„ä»»åŠ¡
- **C (Consulted)** - å’¨è¯¢äºº: éœ€è¦å’¨è¯¢å…¶ä»–æŠ€èƒ½çš„ä»»åŠ¡
- **I (Informed)** - çŸ¥æƒ…äºº: éœ€è¦é€šçŸ¥å…¶ä»–æŠ€èƒ½è¿›å±•çš„ä»»åŠ¡

---

## âš ï¸ å†²çªå‡çº§è·¯å¾„

### å†²çªç±»å‹

æœ¬æŠ€èƒ½å¯èƒ½é‡åˆ°çš„å†²çªç±»å‹:

| å†²çªç±»å‹ | ä¸¥é‡ç¨‹åº¦ | é»˜è®¤å¤„ç†æ–¹å¼ |
|----------|----------|--------------|
| æµ‹è¯•æ¡†æ¶é€‰å‹å†²çª | ä½ | ç›´æ¥åå•† |
| è¦†ç›–ç‡ç›®æ ‡åˆ†æ­§ | ä¸­ | ç¬¬ä¸‰æ–¹åè°ƒ |
| æµ‹è¯•èµ„æºé…ç½®å†²çª | ä¸­ | ç¬¬ä¸‰æ–¹åè°ƒ |
| æµ‹è¯•æ¡†æ¶ vs å¼€å‘è¿›åº¦ | é«˜ | é¡¹ç›®åè°ƒå™¨ä»‹å…¥ |

### 4çº§å†²çªå‡çº§è·¯å¾„

#### Level 1: ç›´æ¥åå•†(æœ¬æŠ€èƒ½å†…éƒ¨)

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: ä½-ä¸­
- å†²çªç±»å‹: æµ‹è¯•æ¡†æ¶é€‰å‹å†²çªã€è¦†ç›–ç‡ç›®æ ‡åˆ†æ­§
- å¤„ç†æ—¶é™: < 5åˆ†é’Ÿ

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel1(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. è¯†åˆ«å†²çªç±»å‹
  const conflictType = identifyConflictType(conflict);

  // 2. åˆ†æå†²çªåŸå› 
  const rootCause = analyzeRootCause(conflict);

  // 3. æå‡ºè§£å†³æ–¹æ¡ˆ
  const solutions = generateSolutions(conflictType, rootCause);

  // 4. è¯„ä¼°æ–¹æ¡ˆ
  const bestSolution = evaluateSolutions(solutions);

  // 5. æ‰§è¡Œè§£å†³æ–¹æ¡ˆ
  await implementSolution(bestSolution);

  // 6. è®°å½•ç»“æœ
  recordConflictResolution(conflict, bestSolution);

  return bestSolution;
}
```

#### Level 2: ç¬¬ä¸‰æ–¹åè°ƒ(ç›¸å…³æŠ€èƒ½åè°ƒ)

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: ä¸­
- å†²çªç±»å‹: æµ‹è¯•èµ„æºé…ç½®å†²çª
- Level 1 å¤„ç†è¶…æ—¶: > 5åˆ†é’Ÿ
- å¤„ç†æ—¶é™: < 15åˆ†é’Ÿ

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel2(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. å‡çº§åˆ°ç¬¬ä¸‰æ–¹åè°ƒ
  const coordinator = selectCoordinator(conflict);

  // 2. é‚€è¯·ç›¸å…³æŠ€èƒ½å‚ä¸åè°ƒ
  const stakeholders = identifyStakeholders(conflict);

  // 3. å¬å¼€åè°ƒä¼šè®®
  const meeting = await conveneMeeting(coordinator, stakeholders);

  // 4. å„æ–¹é™ˆè¿°è§‚ç‚¹
  const viewpoints = await collectViewpoints(meeting);

  // 5. å…±åŒè¯„ä¼°è§£å†³æ–¹æ¡ˆ
  const solutions = await coCreateSolutions(viewpoints);

  // 6. è¾¾æˆå…±è¯†
  const resolution = await reachConsensus(solutions);

  // 7. è®°å½•åè°ƒç»“æœ
  recordMediationResult(conflict, resolution);

  return resolution;
}
```

#### Level 3: é¡¹ç›®åè°ƒå™¨ä»‹å…¥

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: é«˜
- å†²çªç±»å‹: æµ‹è¯•æ¡†æ¶ vs å¼€å‘è¿›åº¦
- Level 2 å¤„ç†è¶…æ—¶: > 15åˆ†é’Ÿ
- å¤„ç†æ—¶é™: < 30åˆ†é’Ÿ

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel3(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. å‡çº§åˆ°é¡¹ç›®åè°ƒå™¨
  const projectCoordinator = await invokeSkill("project-coordinator");

  // 2. æä¾›å®Œæ•´çš„å†²çªä¸Šä¸‹æ–‡
  await projectCoordinator.reportConflict({
    conflict,
    history: getConflictHistory(conflict),
    level2Attempts: getLevel2Attempts(conflict),
  });

  // 3. åè°ƒå™¨ç»„ç»‡ä¸“é¡¹è¯„å®¡
  const review = await projectCoordinator.organizeReview({
    type: "conflict-resolution",
    participants: ["technical-architect", "backend-engineer", "test-framework-builder"],
    conflict,
  });

  // 4. è¯„å®¡ä¼šè®®
  const resolution = await review.conduct();

  // 5. è®°å½•æœ€ç»ˆå†³ç­–
  recordFinalDecision(conflict, resolution);

  return resolution;
}
```

#### Level 4: ç”¨æˆ·å¹²é¢„

**é€‚ç”¨åœºæ™¯**:

- å†²çªä¸¥é‡ç¨‹åº¦: æé«˜
- å†²çªç±»å‹: å½±å“é¡¹ç›®æ–¹å‘æˆ–æ ¸å¿ƒéœ€æ±‚çš„åˆ†æ­§
- Level 3 å¤„ç†è¶…æ—¶: > 30åˆ†é’Ÿ
- å¤„ç†æ—¶é™: ç”±ç”¨æˆ·å†³å®š

**å¤„ç†æµç¨‹**:

```typescript
async function resolveConflictLevel4(
  conflict: Conflict,
): Promise<Resolution> {
  // 1. å‡†å¤‡å†²çªæŠ¥å‘Š
  const report = generateConflictReport({
    conflict,
    history: getConflictHistory(conflict),
    allAttempts: getAllResolutionAttempts(conflict),
    options: generateOptions(conflict),
  });

  // 2. æäº¤ç»™ç”¨æˆ·å†³ç­–
  const userDecision = await submitToUser({
    report,
    urgency: "high",
    context: "conflict-resolution",
  });

  // 3. æ‰§è¡Œç”¨æˆ·å†³ç­–
  await implementUserDecision(userDecision);

  // 4. è®°å½•æœ€ç»ˆå†³ç­–
  recordUserDecision(conflict, userDecision);

  return userDecision;
}
```

### åä½œåºåˆ—å›¾

```mermaid
sequenceDiagram
    participant PD as product-development-flow
    participant TFB as test-framework-builder
    participant TA as technical-architect
    participant BE as backend-engineer
    participant FE as frontend-engineer
    participant DG as devops-generator
    participant PC as project-coordinator

    PD->>TFB: è§¦å‘æµ‹è¯•æ¡†æ¶æ­å»ºä»»åŠ¡
    TFB->>TA: å’¨è¯¢æµ‹è¯•æ¡†æ¶é€‰å‹
    TA-->>TFB: æä¾›æ¡†æ¶å»ºè®®
    TFB->>TFB: é€‰æ‹©æµ‹è¯•æ¡†æ¶
    TFB->>BE: æä¾›åç«¯æµ‹è¯•é…ç½®
    BE-->>TFB: ç¡®è®¤é…ç½®å¯ç”¨æ€§
    TFB->>FE: æä¾›å‰ç«¯æµ‹è¯•é…ç½®
    FE-->>TFB: ç¡®è®¤é…ç½®å¯ç”¨æ€§
    TFB->>DG: æä¾›CI/CDé›†æˆéœ€æ±‚
    DG-->>TFB: ç¡®è®¤é›†æˆæ–¹æ¡ˆ

    alt å‘ç”Ÿå†²çª
        TFB->>TFB: Level 1: å°è¯•ç›´æ¥åå•†
        alt Level 1 æ— æ³•è§£å†³
            TFB->>TA: Level 2: è¯·æ±‚ç¬¬ä¸‰æ–¹åè°ƒ
            TA->>BE: é‚€è¯·å‚ä¸åè°ƒ
            TA->>FE: é‚€è¯·å‚ä¸åè°ƒ
            alt Level 2 æ— æ³•è§£å†³
                TFB->>PC: Level 3: å‡çº§åˆ°é¡¹ç›®åè°ƒå™¨
                PC->>PC: ç»„ç»‡ä¸“é¡¹è¯„å®¡
                PC-->>TFB: æä¾›å†³ç­–ç»“æœ
                alt Level 3 æ— æ³•è§£å†³
                    TFB->>PC: Level 4: æäº¤ç»™ç”¨æˆ·
                    PC-->>TFB: æ‰§è¡Œç”¨æˆ·å†³ç­–
                end
            end
        end
    end

    TFB->>PD: è¿”å›æµ‹è¯•æ¡†æ¶æ–¹æ¡ˆ
```

### åä½œæ£€æŸ¥æ¸…å•

åœ¨ä¸ä»¥ä¸‹æŠ€èƒ½åä½œæ—¶,è¯·ä½¿ç”¨ä»¥ä¸‹æ£€æŸ¥æ¸…å•:

#### ä¸ technical-architect åä½œæ£€æŸ¥æ¸…å•

- [ ] æµ‹è¯•æ¡†æ¶ç¬¦åˆæŠ€æœ¯æ ˆè¦æ±‚
- [ ] æµ‹è¯•æ¶æ„ç¬¦åˆç³»ç»Ÿæ¶æ„
- [ ] æµ‹è¯•å·¥å…·é“¾é…ç½®åˆç†
- [ ] æµ‹è¯•éš”ç¦»ç­–ç•¥æ­£ç¡®
- [ ] æµ‹è¯•ç¯å¢ƒé…ç½®ä¸€è‡´

#### ä¸ backend-engineer åä½œæ£€æŸ¥æ¸…å•

- [ ] åç«¯æµ‹è¯•é…ç½®å®Œæ•´
- [ ] APIæµ‹è¯•æ¨¡æ¿å¯ç”¨
- [ ] æ•°æ®åº“æµ‹è¯•æ–¹æ¡ˆå¯è¡Œ
- [ ] Mockç­–ç•¥åˆç†
- [ ] æµ‹è¯•æ•°æ®ç®¡ç†æ¸…æ™°

#### ä¸ frontend-engineer åä½œæ£€æŸ¥æ¸…å•

- [ ] å‰ç«¯æµ‹è¯•é…ç½®å®Œæ•´
- [ ] ç»„ä»¶æµ‹è¯•æ¨¡æ¿å¯ç”¨
- [ ] E2Eæµ‹è¯•æ–¹æ¡ˆå¯è¡Œ
- [ ] æµ‹è¯•ç¯å¢ƒé…ç½®æ­£ç¡®
- [ ] æµ‹è¯•å·¥å…·é“¾é›†æˆ

#### ä¸ devops-generator åä½œæ£€æŸ¥æ¸…å•

- [ ] CI/CDæµ‹è¯•é…ç½®å®Œæ•´
- [ ] æµ‹è¯•ç¯å¢ƒéƒ¨ç½²è‡ªåŠ¨åŒ–
- [ ] æµ‹è¯•æŠ¥å‘Šç”Ÿæˆé…ç½®
- [ ] æµ‹è¯•èµ„æºç®¡ç†åˆç†
- [ ] æµ‹è¯•å¤±è´¥å¤„ç†æœºåˆ¶

---

- **ä¸»è¦åä½œ**ï¼šproject-coordinatorï¼ˆæµç¨‹ç¼–æ’ä¸ä¸Šä¸‹æ–‡åŒæ­¥ï¼‰ã€product-development-flowï¼ˆé˜¶æ®µ10 æµ‹è¯•æ¡†æ¶æ­å»ºè‡ªåŠ¨è§¦å‘ï¼‰ã€backend-engineer/frontend-engineerï¼ˆæµ‹è¯•ç‚¹ä½ä¸æ¥å£çº¦æŸï¼‰ã€qa-engineerï¼ˆæµ‹è¯•ç­–ç•¥ä¸è¦†ç›–ç‡ç›®æ ‡ï¼‰ã€devops-generatorï¼ˆCIé›†æˆï¼‰ã€‚
- **RACIï¼ˆé˜¶æ®µ10 æµ‹è¯•æ¡†æ¶æ­å»ºï¼‰**ï¼štest-framework-builder è´Ÿè´£æ¡†æ¶è®¾è®¡ä¸è„šæ‰‹æ¶äº¤ä»˜ï¼ˆRï¼‰ï¼Œproject-coordinator è´Ÿè´£æµç¨‹ä¸å†³ç­–è®°å½•ï¼ˆAï¼‰ï¼Œqa-engineer ä¸ devops-generator consultedï¼ˆCï¼‰ï¼Œäº§å“ä¸å®ç°å›¢é˜ŸçŸ¥æƒ…å¹¶æ¥æ”¶äº§ç‰©ï¼ˆIï¼‰ã€‚
- **å‚è€ƒ**ï¼šå®Œæ•´çŸ©é˜µè§ [COLLABORATION_RACI.md](../../COLLABORATION_RACI.md)ã€‚

## ğŸ“‹ å·¥ä½œæµç¨‹

```mermaid
graph LR
    A[åˆ†æé¡¹ç›®æŠ€æœ¯æ ˆ] --> B[ç¡®å®šæµ‹è¯•éœ€æ±‚]
    B --> C[ç”Ÿæˆå•å…ƒæµ‹è¯•é…ç½®]
    C --> D[ç”Ÿæˆé›†æˆæµ‹è¯•é…ç½®]
    D --> E[ç”ŸæˆE2Eæµ‹è¯•é…ç½®]
    E --> F[é…ç½®æµ‹è¯•å·¥å…·é“¾]
    F --> G[ç”Ÿæˆæµ‹è¯•æ•°æ®ç®¡ç†]
    G --> H[ç”Ÿæˆæµ‹è¯•æ–‡æ¡£]
    H --> I[è¾“å‡ºæµ‹è¯•æ¡†æ¶åŒ…]

## ğŸ”„ è¾“å…¥è¦æ±‚

### å¿…éœ€è¾“å…¥

- **é¡¹ç›®æŠ€æœ¯æ ˆ**ï¼š
  - å‰ç«¯æ¡†æ¶ï¼ˆReact/Vue/Angularç­‰ï¼‰
  - åç«¯æ¡†æ¶ï¼ˆNode.js/Python/Java/Goç­‰ï¼‰
  - æ„å»ºå·¥å…·ï¼ˆWebpack/Vite/Gradle/Mavenç­‰ï¼‰
- **æµ‹è¯•ç±»å‹**ï¼š
  - å•å…ƒæµ‹è¯•
  - é›†æˆæµ‹è¯•
  - E2Eæµ‹è¯•
- **æµ‹è¯•æ¡†æ¶åå¥½**ï¼ˆå¯é€‰ï¼‰ï¼š
  - å•å…ƒæµ‹è¯•æ¡†æ¶ï¼ˆJest/Vitest/Mochaç­‰ï¼‰
  - E2Eæµ‹è¯•æ¡†æ¶ï¼ˆPlaywright/Cypressç­‰ï¼‰

### å¯é€‰è¾“å…¥

- **è¦†ç›–ç‡ç›®æ ‡**ï¼ˆä¾‹å¦‚ï¼š80%, 90%ï¼‰
- *`CI/CDå¹³å°`*ï¼ˆGitHub/GitLab/Jenkinsï¼‰
- **æ•°æ®åº“ç±»å‹**ï¼ˆPostgreSQL/MySQL/MongoDBï¼‰
- **APIè§„èŒƒ**ï¼ˆOpenAPI/Swaggerï¼‰

## ğŸ“¦ äº¤ä»˜ç‰©

### 1. å•å…ƒæµ‹è¯•æ¡†æ¶

#### Jesté…ç½®ç¤ºä¾‹

```javascript
// jest.config.js
module.exports = {
  preset: "ts-jest",
  testEnvironment: "node",
  roots: ["<rootDir>/src", "<rootDir>/tests"],
  testMatch: ["**/__tests__/*`/`.ts", "*`/?(`.)+(spec|test).ts"],
  collectCoverageFrom: [
    "src/*`/`.ts",
    "!src/*`/`.d.ts",
    "!src/**/index.ts",
    "!src/**/types.ts",
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
  moduleNameMapper: {
    "^@/(.*)$": "<rootDir>/src/$1",
  },
  setupFilesAfterEnv: ["<rootDir>/tests/setup.ts"],
};

#### ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹

```typescript
// tests/unit/utils/dateUtils.test.ts
import { formatDate, parseDate } from "@/utils/dateUtils";

describe("dateUtils", () => {
  describe("formatDate", () => {
    it("should format date correctly", () => {
      const date = new Date("2024-01-15");
      const result = formatDate(date, "YYYY-MM-DD");
      expect(result).toBe("2024-01-15");
    });

    it("should handle invalid date", () => {
      const result = formatDate(null, "YYYY-MM-DD");
      expect(result).toBe("");
    });
  });

  describe("parseDate", () => {
    it("should parse date string correctly", () => {
      const result = parseDate("2024-01-15", "YYYY-MM-DD");
      expect(result).toBeInstanceOf(Date);
      expect(result.toISOString()).toContain("2024-01-15");
    });
  });
});

#### Mockç¤ºä¾‹

```typescript
// tests/unit/api/userApi.test.ts
import { UserApi } from "@/api/userApi";
import { AxiosInstance } from "axios";

jest.mock("axios");
const mockedAxios = AxiosInstance as jest.Mocked<typeof AxiosInstance>;

describe("UserApi", () => {
  let userApi: UserApi;

  beforeEach(() => {
    userApi = new UserApi(mockedAxios);
  });

  afterEach(() => {
    jest.clearAllMocks();
  });

  describe("getUser", () => {
    it("should return user data", async () => {
      const mockUser = { id: 1, name: "John Doe" };
      mockedAxios.get.mockResolvedValue({ data: mockUser });

      const result = await userApi.getUser(1);
      expect(result).toEqual(mockUser);
      expect(mockedAxios.get).toHaveBeenCalledWith("/users/1");
    });

    it("should handle API error", async () => {
      mockedAxios.get.mockRejectedValue(new Error("Network error"));

      await expect(userApi.getUser(1)).rejects.toThrow("Network error");
    });
  });
});

### 2. é›†æˆæµ‹è¯•æ¡†æ¶

#### TestContainersé…ç½®ç¤ºä¾‹

```typescript
// tests/integration/setup.ts
import { PostgreSqlContainer } from "testcontainers";
import { Pool } from "pg";

let postgresContainer: PostgreSqlContainer;
let pool: Pool;

export async function setupTestDatabase() {
  postgresContainer = await new PostgreSqlContainer("postgres:15-alpine")
    .withDatabase("testdb")
    .withUsername("testuser")
    .withPassword("testpass")
    .withExposedPorts(5432)
    .start();

  pool = new Pool({
    host: postgresContainer.getHost(),
    port: postgresContainer.getMappedPort(5432),
    database: postgresContainer.getDatabase(),
    user: postgresContainer.getUsername(),
    password: postgresContainer.getPassword(),
  });

  // è¿è¡Œè¿ç§»
  await runMigrations(pool);
}

export async function teardownTestDatabase() {
  await pool.end();
  await postgresContainer.stop();
}

export function getTestDbPool(): Pool {
  return pool;
}

#### APIé›†æˆæµ‹è¯•ç¤ºä¾‹

```typescript
// tests/integration/api/userApi.integration.test.ts
import {
  setupTestDatabase,
  teardownTestDatabase,
  getTestDbPool,
} from "../setup";
import request from "supertest";
import { app } from "@/app";

describe("User API Integration Tests", () => {
  beforeAll(async () => {
    await setupTestDatabase();
  });

  afterAll(async () => {
    await teardownTestDatabase();
  });

  describe("POST /api/users", () => {
    it("should create a new user", async () => {
      const userData = {
        name: "John Doe",
        email: "john@example.com",
      };

      const response = await request(app)
        .post("/api/users")
        .send(userData)
        .expect(201);

      expect(response.body).toMatchObject({
        id: expect.any(Number),
        name: userData.name,
        email: userData.email,
      });

      // éªŒè¯æ•°æ®åº“
      const pool = getTestDbPool();
      const result = await pool.query("SELECT * FROM users WHERE id = $1", [
        response.body.id,
      ]);
      expect(result.rows[0]).toMatchObject(userData);
    });

    it("should return 400 for invalid data", async () => {
      const response = await request(app)
        .post("/api/users")
        .send({})
        .expect(400);

      expect(response.body.errors).toBeDefined();
    });
  });
});

### 3. E2Eæµ‹è¯•æ¡†æ¶

#### Playwrighté…ç½®ç¤ºä¾‹

```typescript
// playwright.config.ts
import { defineConfig, devices } from "@playwright/test";

export default defineConfig({
  testDir: "./tests/e2e",
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  workers: process.env.CI ? 1 : undefined,
  reporter: [["html"], ["json", { outputFile: "test-results/results.json" }]],
  use: {
    baseURL: "http://localhost:3000",
    trace: "on-first-retry",
    screenshot: "only-on-failure",
  },
  projects: [
    {
      name: "chromium",
      use: { ...devices["Desktop Chrome"] },
    },
    {
      name: "firefox",
      use: { ...devices["Desktop Firefox"] },
    },
    {
      name: "webkit",
      use: { ...devices["Desktop Safari"] },
    },
  ],
  webServer: {
    command: "npm run dev",
    url: "http://localhost:3000",
    reuseExistingServer: !process.env.CI,
  },
});

#### Page Objectç¤ºä¾‹

```typescript
// tests/e2e/pages/LoginPage.ts
import { Page, expect } from "@playwright/test";

export class LoginPage {
  readonly page: Page;
  readonly emailInput: this["page"]["locator"];
  readonly passwordInput: this["page"]["locator"];
  readonly loginButton: this["page"]["locator"];
  readonly errorMessage: this["page"]["locator"];

  constructor(page: Page) {
    this.page = page;
    this.emailInput = page.locator('input[name="email"]');
    this.passwordInput = page.locator('input[name="password"]');
    this.loginButton = page.locator('button[type="submit"]');
    this.errorMessage = page.locator('[data-testid="error-message"]');
  }

  async goto() {
    await this.page.goto("/login");
  }

  async login(email: string, password: string) {
    await this.emailInput.fill(email);
    await this.passwordInput.fill(password);
    await this.loginButton.click();
  }

  async assertErrorMessage(message: string) {
    await expect(this.errorMessage).toHaveText(message);
  }
}

#### E2Eæµ‹è¯•ç¤ºä¾‹

```typescript
// tests/e2e/login.spec.ts
import { test, expect } from "@playwright/test";
import { LoginPage } from "./pages/LoginPage";

test.describe("Login Flow", () => {
  let loginPage: LoginPage;

  test.beforeEach(async ({ page }) => {
    loginPage = new LoginPage(page);
  });

  test("should login with valid credentials", async ({ page }) => {
    await loginPage.goto();
    await loginPage.login("test@example.com", "password123");

    await expect(page).toHaveURL("/dashboard");
    await expect(page.locator("h1")).toContainText("Welcome");
  });

  test("should show error with invalid credentials", async ({ page }) => {
    await loginPage.goto();
    await loginPage.login("invalid@example.com", "wrongpassword");

    await loginPage.assertErrorMessage("Invalid email or password");
    await expect(page).toHaveURL("/login");
  });

  test("should validate required fields", async ({ page }) => {
    await loginPage.goto();
    await loginPage.login("", "");

    await expect(loginPage.emailInput).toHaveAttribute("required");
    await expect(loginPage.passwordInput).toHaveAttribute("required");
  });
});

### 4. æµ‹è¯•å·¥å…·é“¾

#### è¦†ç›–ç‡é…ç½®ç¤ºä¾‹

```javascript
// .nycrc.json
{
  "all": true,
  "include": ["src/*`/`.ts"],
  "exclude": [
    "src/*`/`.d.ts",
    "src/*`/`.test.ts",
    "src/*`/`.spec.ts",
    "src/types/*`/`.ts"
  ],
  "reporter": [
    "text",
    "text-summary",
    "html",
    "lcov"
  ],
  "check-coverage": true,
  "lines": 80,
  "statements": 80,
  "functions": 80,
  "branches": 80
}

#### æµ‹è¯•æŠ¥å‘Šé…ç½®ç¤ºä¾‹

```javascript
// .mocharc.json
{
  "spec": "tests/*`/`.test.ts",
  "require": ["ts-node/register"],
  "timeout": 10000,
  "reporter": [
    "spec",
    ["mochawesome", {
      "reportDir": "test-results",
      "reportFilename": "mochawesome-report",
      "reportTitle": "Test Report"
    }]
  ]
}

#### æ€§èƒ½æµ‹è¯•é…ç½®ç¤ºä¾‹

```javascript
// tests/performance/load-test.js
import http from "k6/http";
import { check, sleep } from "k6";

export let options = {
  stages: [
    { duration: "30s", target: 100 },
    { duration: "1m", target: 100 },
    { duration: "20s", target: 0 },
  ],
  thresholds: {
    http_req_duration: ["p(95)<500"],
    http_req_failed: ["rate<0.01"],
  },
};

export default function () {
  let res = http.get("http://localhost:3000/api/users");
  check(res, {
    "status was 200": (r) => r.status == 200,
    "response time < 500ms": (r) => r.timings.duration < 500,
  });
  sleep(1);
}

### 5. æµ‹è¯•æ•°æ®ç®¡ç†é…ç½®

#### Factoryé…ç½®ç¤ºä¾‹

```typescript
// tests/factories/user.factory.ts
import { Factory } from "fishery";
import { hashPassword } from "@/utils/auth";

export const userFactory = Factory.define(({ sequence, onCreate }) => {
  onCreate(async (user) => {
    user.password = await hashPassword(user.password);
    return user;
  });

  return {
    id: sequence,
    name: `User ${sequence}`,
    email: `user${sequence}@example.com`,
    password: "password123",
    createdAt: new Date(),
    updatedAt: new Date(),
  };
});

#### Fixtureç¤ºä¾‹

```typescript
// tests/fixtures/users.fixture.ts
import { userFactory } from "../factories/user.factory";

export const usersFixture = {
  validUser: userFactory.build({
    name: "Valid User",
    email: "valid@example.com",
  }),

  adminUser: userFactory.build({
    name: "Admin User",
    email: "admin@example.com",
    role: "admin",
  }),

  invalidUser: {
    name: "",
    email: "invalid-email",
    password: "123",
  },
};

#### æ•°æ®åº“ç§å­è„šæœ¬ç¤ºä¾‹

```typescript
// tests/seeds/database.seed.ts
import { getTestDbPool } from "../integration/setup";
import { userFactory } from "../factories/user.factory";

export async function seedUsers(count: number = 10) {
  const pool = getTestDbPool();
  const users = userFactory.buildList(count);

  for (const user of users) {
    await pool.query(
      "INSERT INTO users (name, email, password, role) VALUES ($1, $2, $3, $4)",
      [user.name, user.email, user.password, user.role || "user"],
    );
  }

  return users;
}

export async function clearUsers() {
  const pool = getTestDbPool();
  await pool.query("DELETE FROM users");
}

## ğŸ” æŠ€æœ¯æ ˆæ£€æµ‹ä¸é…ç½®é€‰æ‹©

### å‰ç«¯æµ‹è¯•æ¡†æ¶é€‰æ‹©

```typescript
function selectTestFramework(
  framework: string,
  buildTool: string,
): TestFramework {
  const frameworkMap = {
    react: {
      vite: { unit: "vitest", e2e: "playwright" },
      webpack: { unit: "jest", e2e: "cypress" },
    },
    vue: {
      vite: { unit: "vitest", e2e: "playwright" },
      webpack: { unit: "jest", e2e: "cypress" },
    },
    angular: {
      "angular-cli": { unit: "jest", e2e: "protractor" },
    },
  };

  return (
    frameworkMap[framework]?.[buildTool] || { unit: "jest", e2e: "cypress" }
  );
}

### åç«¯æµ‹è¯•æ¡†æ¶é€‰æ‹©

```typescript
function selectBackendTestFramework(
  language: string,
  framework: string,
): TestFramework {
  const frameworkMap = {
    typescript: {
      express: "jest",
      nest: "jest",
      fastify: "jest",
    },
    python: {
      django: "pytest",
      flask: "pytest",
      fastapi: "pytest",
    },
    java: {
      spring: "junit5",
    },
    go: {
      gin: "testing",
    },
  };

  return frameworkMap[language]?.[framework] || "jest";
}

## ğŸ“ ç”Ÿæˆæ–‡æ¡£

### æµ‹è¯•æ–‡æ¡£ç¤ºä¾‹

```markdown
# Testing Guide

## æµ‹è¯•ç±»å‹

### å•å…ƒæµ‹è¯•

å•å…ƒæµ‹è¯•ç”¨äºæµ‹è¯•ç‹¬ç«‹çš„ä»£ç å•å…ƒï¼Œå¦‚å‡½æ•°ã€ç±»ã€æ¨¡å—ã€‚

è¿è¡Œå•å…ƒæµ‹è¯•ï¼š

```bash
npm run test:unit

```

æŸ¥çœ‹è¦†ç›–ç‡ï¼š

```bash
npm run test:coverage

### é›†æˆæµ‹è¯•

é›†æˆæµ‹è¯•ç”¨äºæµ‹è¯•å¤šä¸ªç»„ä»¶æˆ–æ¨¡å—ä¹‹é—´çš„äº¤äº’ã€‚

è¿è¡Œé›†æˆæµ‹è¯•ï¼š

```bash
npm run test:integration

### E2Eæµ‹è¯•

ç«¯åˆ°ç«¯æµ‹è¯•æ¨¡æ‹ŸçœŸå®ç”¨æˆ·åœºæ™¯ï¼Œæµ‹è¯•æ•´ä¸ªåº”ç”¨æµç¨‹ã€‚

è¿è¡ŒE2Eæµ‹è¯•ï¼š

```bash
npm run test:e2e

è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š

```bash
npm test

## æµ‹è¯•ç»“æ„

```tree
tests/
â”œâ”€â”€ unit/              # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ components/
â”œâ”€â”€ integration/       # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ database/
â”‚   â””â”€â”€ setup.ts
â”œâ”€â”€ e2e/              # E2Eæµ‹è¯•
â”‚   â”œâ”€â”€ pages/
â”‚   â””â”€â”€ specs/
â”œâ”€â”€ factories/        # æµ‹è¯•æ•°æ®å·¥å‚
â”œâ”€â”€ fixtures/         # æµ‹è¯•æ•°æ®
â””â”€â”€ seeds/           # æ•°æ®åº“ç§å­

## ç¼–å†™æµ‹è¯•

### 1. å•å…ƒæµ‹è¯•ç”¨ä¾‹

```typescript
import { sum } from "@/utils/math";

describe("sum", () => {
  it("should add two numbers", () => {
    expect(sum(2, 3)).toBe(5);
  });
});

### 2. é›†æˆæµ‹è¯•ç”¨ä¾‹

```typescript
import request from "supertest";
import { app } from "@/app";

describe("POST /api/users", () => {
  it("should create a user", async () => {
    const response = await request(app)
      .post("/api/users")
      .send({ name: "John" });

    expect(response.status).toBe(201);
  });
});

### 3. E2Eæµ‹è¯•ç¼–å†™å®è·µ

```typescript
import { test, expect } from "@playwright/test";

test("should login", async ({ page }) => {
  await page.goto("/login");
  await page.fill('input[name="email"]', "test@example.com");
  await page.fill('input[name="password"]', "password");
  await page.click('button[type="submit"]');
  await expect(page).toHaveURL("/dashboard");
});

## æµ‹è¯•è¦†ç›–ç‡

ç›®æ ‡è¦†ç›–ç‡ï¼š

- è¯­å¥è¦†ç›–ç‡ï¼š80%
- åˆ†æ”¯è¦†ç›–ç‡ï¼š80%
- å‡½æ•°è¦†ç›–ç‡ï¼š80%
- è¡Œè¦†ç›–ç‡ï¼š80%

æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Šï¼š

```bash
npm run test:coverage
open coverage/index.html

## ğŸ”„ é›†æˆåˆ°å¼€å‘æµç¨‹

### è§¦å‘æ—¶æœº

1. **é¡¹ç›®åˆå§‹åŒ–å**
   - ç”Ÿæˆæµ‹è¯•æ¡†æ¶åŸºç¡€é…ç½®
   - åˆ›å»ºæµ‹è¯•ç›®å½•ç»“æ„
   - æ·»åŠ æµ‹è¯•è„šæœ¬åˆ°package.json

2. **æŠ€æœ¯æ ˆç¡®å®šå**
   - ç”Ÿæˆç‰¹å®šæ¡†æ¶çš„æµ‹è¯•é…ç½®
   - ç”Ÿæˆç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹

3. **åŠŸèƒ½å¼€å‘é˜¶æ®µ**
   - ä¸ºæ–°åŠŸèƒ½ç”Ÿæˆæµ‹è¯•æ¨¡æ¿
   - ç”Ÿæˆå·¥å‚å‡½æ•°å’Œfixtures

### è°ƒç”¨æ–¹å¼

```typescript
// åœ¨product-development-flowä¸­è°ƒç”¨
const testFrameworkBuilder = await useSkill("test-framework-builder");

const testFramework = await testFrameworkBuilder.build({
  frontendFramework: "react",
  backendFramework: "express",
  buildTool: "vite",
  testTypes: ["unit", "integration", "e2e"],
  coverageTarget: {
    statements: 80,
    branches: 80,
    functions: 80,
    lines: 80,
  },
  cicdPlatform: "github",
});

// ä¿å­˜æµ‹è¯•é…ç½®
await saveTestFramework(testFramework);

## ğŸ“Š è´¨é‡æ ‡å‡†

- æµ‹è¯•é…ç½®è¯­æ³•æ­£ç¡®
- æµ‹è¯•æ¡†æ¶å¯æ­£ç¡®è¿è¡Œ
- æµ‹è¯•è„šæœ¬å¯ä»¥æ‰§è¡Œ
- è¦†ç›–ç‡é…ç½®åˆç†
- æµ‹è¯•æ–‡æ¡£æ¸…æ™°å®Œæ•´
- ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹å¯è¿è¡Œ

## å®¡æŸ¥é‡ç‚¹

åœ¨å®¡æŸ¥æµ‹è¯•æ¡†æ¶æ—¶ï¼Œé‡ç‚¹å…³æ³¨ä»¥ä¸‹æ–¹é¢ï¼š

1. **æ¡†æ¶é€‰æ‹©é€‚é…æ€§**
   - æµ‹è¯•æ¡†æ¶æ˜¯å¦ä¸é¡¹ç›®æŠ€æœ¯æ ˆåŒ¹é…
   - æ˜¯å¦è€ƒè™‘äº†å›¢é˜ŸæŠ€æœ¯èƒŒæ™¯å’Œå­¦ä¹ æˆæœ¬
   - æ¡†æ¶çš„ç¤¾åŒºæ´»è·ƒåº¦å’Œç»´æŠ¤æƒ…å†µ

2. **é…ç½®å®Œæ•´æ€§**
   - æ˜¯å¦é…ç½®äº†æ‰€æœ‰å¿…è¦çš„æµ‹è¯•ç±»å‹ï¼ˆå•å…ƒ/é›†æˆ/E2Eï¼‰
   - è¦†ç›–ç‡é…ç½®æ˜¯å¦åˆç†ä¸”å¯è¾¾æˆ
   - CI/CDé›†æˆé…ç½®æ˜¯å¦æ­£ç¡®

3. **æµ‹è¯•æ•°æ®ç®¡ç†**
   - å·¥å‚å‡½æ•°æ˜¯å¦æ”¯æŒå¤šæ ·åŒ–çš„æµ‹è¯•åœºæ™¯
   - fixturesæ˜¯å¦è¦†ç›–äº†è¾¹ç•Œæƒ…å†µ
   - Mockç­–ç•¥æ˜¯å¦åˆç†

4. **æ–‡æ¡£è´¨é‡**
   - æµ‹è¯•æŒ‡å—æ˜¯å¦æ¸…æ™°æ˜“æ‡‚
   - ç¤ºä¾‹ç”¨ä¾‹æ˜¯å¦å…·æœ‰ä»£è¡¨æ€§
   - æ˜¯å¦åŒ…å«æ•…éšœæ’æŸ¥æŒ‡å¼•

## æ ¡å¯¹æœºåˆ¶

### æ ¡å¯¹æ–¹å¼

é‡‡ç”¨**è‡ªåŠ¨åŒ–æ£€æŸ¥ + äººå·¥å®¡æŸ¥**çš„åŒé‡æ ¡å¯¹æœºåˆ¶ã€‚

### æ ¡å¯¹å†…å®¹

1. **è‡ªåŠ¨åŒ–æ£€æŸ¥**ï¼ˆæ¯æ¬¡ç”Ÿæˆåæ‰§è¡Œï¼‰
   - é…ç½®æ–‡ä»¶è¯­æ³•éªŒè¯
   - æµ‹è¯•è„šæœ¬å¯æ‰§è¡Œæ€§éªŒè¯
   - ä¾èµ–åŒ…å®Œæ•´æ€§æ£€æŸ¥

2. **äººå·¥å®¡æŸ¥**ï¼ˆé¦–æ¬¡ç”Ÿæˆæ—¶æ‰§è¡Œï¼‰
   - æ¡†æ¶é€‰æ‹©åˆç†æ€§å®¡æŸ¥
   - æµ‹è¯•ç­–ç•¥å®Œæ•´æ€§å®¡æŸ¥
   - æ–‡æ¡£å‡†ç¡®æ€§å®¡æŸ¥

### æ ¡å¯¹æµç¨‹

```text

ç”Ÿæˆæµ‹è¯•æ¡†æ¶
â†“
è‡ªåŠ¨åŒ–æ£€æŸ¥ï¼ˆå¿…é¡»é€šè¿‡ï¼‰
â†“
äººå·¥å®¡æŸ¥ï¼ˆé¦–æ¬¡ï¼‰
â†“
é›†æˆåˆ°é¡¹ç›®
â†“
è¿è¡Œç¤ºä¾‹æµ‹è¯•
â†“
æ ¡å¯¹é€šè¿‡

```

### é€šè¿‡æ ‡å‡†

1. è‡ªåŠ¨åŒ–æ£€æŸ¥å¿…é¡»å…¨éƒ¨é€šè¿‡

2. äººå·¥å®¡æŸ¥æ— é‡å¤§é—®é¢˜

3. ç¤ºä¾‹æµ‹è¯•å¯æˆåŠŸè¿è¡Œ

4. è¦†ç›–ç‡æŠ¥å‘Šå¯æ­£å¸¸ç”Ÿæˆ

## ğŸ“š å‚è€ƒèµ„æ–™

### æµ‹è¯•æ¡†æ¶æ–‡æ¡£

- [Jest Documentation](https://jestjs.io/docs/getting-started)
- [Vitest Guide](https://vitest.dev/guide/)
- [Mocha Documentation](https://mochajs.org/)
- [Playwright Documentation](https://playwright.dev/docs/intro)
- [Cypress Documentation](https://docs.cypress.io/guides/overview/why-cypress)

### æµ‹è¯•æœ€ä½³å®è·µ

- [Testing Library Best Practices](https://kentcdodds.com/blog/common-mistakes-with-react-testing-library)
- [Google Testing Blog](https://testing.googleblog.com/)
- [Martin Fowler - Unit Testing](https://martinfowler.com/bliki/UnitTest.html)

### æ¶æ„æ¨¡å¼

- [Test Patterns](https://martinfowler.com/bliki/TestPyramid.html)
- [Page Object Model](https://www.selenium.dev/documentation/test_practices/encouraged_page_object_models/)
- [Testing Pyramid](https://martinfowler.com/articles/practical-test-pyramid.html)

## ğŸ› ï¸ å·¥å…·è„šæœ¬

æœ¬skillåŒ…å«ä»¥ä¸‹è¾…åŠ©è„šæœ¬ï¼ˆä½äº`scripts/`ç›®å½•ï¼‰ï¼š

- `test-config-generator.ts` - ç”Ÿæˆæµ‹è¯•é…ç½®æ–‡ä»¶
- `test-structure-scaffolder.ts` - æ­å»ºæµ‹è¯•ç›®å½•ç»“æ„
- `mock-factory-builder.ts` - ç”ŸæˆMockå·¥å‚å‡½æ•°

**æ³¨æ„**ï¼šå½“å‰scriptsç›®å½•ä¸ºç©ºï¼Œéœ€è¦æ ¹æ®å®é™…éœ€æ±‚æ·»åŠ ã€‚

## æœ€ä½³å®è·µ

### æ¡†æ¶é€‰æ‹©

1. **å‰ç«¯å•å…ƒæµ‹è¯•**
   - ä½¿ç”¨Viteï¼šä¼˜å…ˆé€‰æ‹©Vitest
   - ä½¿ç”¨Webpackï¼šé€‰æ‹©Jest
   - Vueé¡¹ç›®ï¼šé€‰æ‹©Vitestï¼ˆæ›´å¥½çš„Vueæ”¯æŒï¼‰

2. **åç«¯å•å…ƒæµ‹è¯•**
   - Node.jsï¼šé¦–é€‰Jest
   - Pythonï¼šé€‰æ‹©Pytest
   - Javaï¼šä½¿ç”¨JUnit 5
   - Goï¼šä½¿ç”¨æ ‡å‡†testingåŒ…

3. **E2Eæµ‹è¯•**
   - ç°ä»£Webåº”ç”¨ï¼šæ¨èPlaywrightï¼ˆå¤šæµè§ˆå™¨æ”¯æŒå¥½ï¼‰
   - ä¼ ç»Ÿåº”ç”¨ï¼šå¯é€‰æ‹©Cypressï¼ˆè°ƒè¯•ä½“éªŒå¥½ï¼‰

### æµ‹è¯•ç»„ç»‡

1. **ç›®å½•ç»“æ„**

```tree
tests/
â”œâ”€â”€ unit/ # å•å…ƒæµ‹è¯•
â”œâ”€â”€ integration/ # é›†æˆæµ‹è¯•
â”œâ”€â”€ e2e/ # E2Eæµ‹è¯•
â”œâ”€â”€ factories/ # æ•°æ®å·¥å‚
â””â”€â”€ fixtures/ # æµ‹è¯•æ•°æ®

1. **å‘½åè§„èŒƒ**

- æµ‹è¯•æ–‡ä»¶ï¼š`*.test.ts` æˆ– `*.spec.ts`
- æµ‹è¯•ç›®å½•ï¼š`__tests__/`
- æµ‹è¯•æè¿°ï¼šä½¿ç”¨`should do something when...`æ ¼å¼

### æµ‹è¯•ç¼–å†™

1. **å•å…ƒæµ‹è¯•**

- ä¿æŒå¿«é€Ÿï¼ˆ< 100msï¼‰
- åªæµ‹è¯•ä¸šåŠ¡é€»è¾‘ï¼Œä¸æµ‹è¯•æ¡†æ¶ä»£ç 
- åˆç†ä½¿ç”¨Mockï¼Œä½†ä¸è¦è¿‡åº¦

1. **é›†æˆæµ‹è¯•**

- ä½¿ç”¨çœŸå®ä¾èµ–ï¼ˆæ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ï¼‰
- ç¡®ä¿æµ‹è¯•ç¯å¢ƒä¸ç”Ÿäº§ç¯å¢ƒä¸€è‡´
- ä½¿ç”¨TestContainersè¿›è¡Œéš”ç¦»

1. **E2Eæµ‹è¯•**

- å…³æ³¨ç”¨æˆ·æ—…ç¨‹ï¼Œè€ŒéæŠ€æœ¯ç»†èŠ‚
- ä½¿ç”¨Page Objectæ¨¡å¼
- é¿å…æµ‹è¯•å®ç°ç»†èŠ‚

### è¦†ç›–ç‡ç›®æ ‡

- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼š90%+
- ä¸€èˆ¬ä¸šåŠ¡é€»è¾‘ï¼š80%+
- å·¥å…·å‡½æ•°ï¼š100%
- é…ç½®æ–‡ä»¶ï¼šå¯å¿½ç•¥

## å¸¸è§é—®é¢˜

### Q1: æµ‹è¯•è¿è¡Œé€Ÿåº¦æ…¢æ€ä¹ˆåŠï¼Ÿ

**A**:

- ç¡®ä¿å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•åˆ†ç¦»
- ä½¿ç”¨`--watch`æ¨¡å¼è¿›è¡Œå¼€å‘æµ‹è¯•
- å¹¶è¡Œè¿è¡Œæµ‹è¯•ï¼ˆJestæ”¯æŒï¼‰
- å‡å°‘ä¸å¿…è¦çš„æ•°æ®åº“æ“ä½œ

### Q2: Mockåº”è¯¥Mockåˆ°ä»€ä¹ˆç¨‹åº¦ï¼Ÿ

**A**:

- åªMockå¤–éƒ¨ä¾èµ–ï¼ˆHTTPè°ƒç”¨ã€æ•°æ®åº“ç­‰ï¼‰
- ä¸è¦Mockè¢«æµ‹è¯•çš„æ¨¡å—
- ä¸è¦è¿‡åº¦Mockï¼Œåº”è¯¥éªŒè¯çœŸå®è¡Œä¸º

### Q3: å¦‚ä½•å¤„ç†å¼‚æ­¥æµ‹è¯•ï¼Ÿ

**A**:

- ä½¿ç”¨async/awaitè¯­æ³•
- ç¡®ä¿æ­£ç¡®å¤„ç†Promise
- æ·»åŠ é€‚å½“çš„è¶…æ—¶è®¾ç½®
- æ¸…ç†å¼‚æ­¥èµ„æºï¼ˆtimersã€connectionsç­‰ï¼‰

### Q4: E2Eæµ‹è¯•ä¸ç¨³å®šï¼ˆflakyï¼‰æ€ä¹ˆåŠï¼Ÿ

**A**:

- æ·»åŠ é€‚å½“çš„ç­‰å¾…ï¼ˆä½¿ç”¨page.waitFor\*è€Œéå›ºå®šå»¶è¿Ÿï¼‰
- ä½¿ç”¨ç¨³å®šçš„é€‰æ‹©å™¨ï¼ˆdata-testidè€ŒéCSSé€‰æ‹©å™¨ï¼‰
- éš”ç¦»æµ‹è¯•æ•°æ®ï¼Œé¿å…æµ‹è¯•é—´ç›¸äº’å½±å“
- åœ¨CIä¸­ä½¿ç”¨é‡è¯•æœºåˆ¶

### Q5: å¦‚ä½•æµ‹è¯•ç§æœ‰æ–¹æ³•ï¼Ÿ

**A**:

- ä¸åº”è¯¥ç›´æ¥æµ‹è¯•ç§æœ‰æ–¹æ³•
- é€šè¿‡å…¬å…±æ¥å£æµ‹è¯•ç§æœ‰æ–¹æ³•çš„è¡Œä¸º
- å¦‚æœéœ€è¦æµ‹è¯•ï¼Œè€ƒè™‘é‡æ„ä¸ºç‹¬ç«‹æ¨¡å—

## ğŸ¨ é…ç½®æ¨¡æ¿åº“

### å¸¸è§æŠ€æœ¯æ ˆæ¨¡æ¿

```typescript
const templates = {
"react+vite+express": {
 unit: "vitest",
 integration: "vitest",
 e2e: "playwright",
 config: "react-vite-express.template",
},
"vue+webpack+nest": {
 unit: "jest",
 integration: "jest",
 e2e: "cypress",
 config: "vue-webpack-nest.template",
},
// ... æ›´å¤šæ¨¡æ¿
};

## âš ï¸ æ³¨æ„äº‹é¡¹

### æœ€ä½³å®è·µ

1. **æµ‹è¯•å‘½å**
- ä½¿ç”¨æè¿°æ€§çš„æµ‹è¯•åç§°
- éµå¾ª`should do something when...`æ¨¡å¼

2. **æµ‹è¯•ç‹¬ç«‹æ€§**
- æ¯ä¸ªæµ‹è¯•åº”è¯¥ç‹¬ç«‹è¿è¡Œ
- ä¸ä¾èµ–æµ‹è¯•æ‰§è¡Œé¡ºåº
- ä½¿ç”¨`beforeEach`/`afterEach`æ¸…ç†çŠ¶æ€

3. **æµ‹è¯•é€Ÿåº¦**
- å•å…ƒæµ‹è¯•åº”è¯¥å¿«é€Ÿï¼ˆ< 100msï¼‰
- é›†æˆæµ‹è¯•é€‚ä¸­ï¼ˆ< 1sï¼‰
- E2Eæµ‹è¯•è¾ƒæ…¢ï¼ˆ< 10sï¼‰

4. **Mockä½¿ç”¨**
- åªMockå¤–éƒ¨ä¾èµ–
- ä¸è¦Mockè¢«æµ‹ä»£ç 
- éªŒè¯Mockçš„è°ƒç”¨æ¬¡æ•°å’Œå‚æ•°

5. **æµ‹è¯•æ•°æ®**
- ä½¿ç”¨å·¥å‚å‡½æ•°ç”Ÿæˆæ•°æ®
- é¿å…ç¡¬ç¼–ç æ•°æ®
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æµ‹è¯•æ•°æ®

---

## è°ƒç”¨å…¶ä»–æŠ€èƒ½

### è°ƒç”¨æ—¶æœº

æœ¬skillåœ¨ä»¥ä¸‹æƒ…å†µéœ€è¦ä¸»åŠ¨è°ƒç”¨å…¶ä»–æŠ€èƒ½ï¼š

1. **æ¡†æ¶é€‰æ‹©æ—¶** - è°ƒç”¨æŠ€æœ¯æ¶æ„å¸ˆ

2. **é…ç½®æµ‹è¯•ç¯å¢ƒæ—¶** - è°ƒç”¨DevOpsé…ç½®ç”Ÿæˆå™¨

3. **é›†æˆæµ‹è¯•è®¾è®¡æ—¶** - è°ƒç”¨åç«¯å·¥ç¨‹å¸ˆæˆ–å‰ç«¯å·¥ç¨‹å¸ˆ

4. **E2Eæµ‹è¯•è®¾è®¡æ—¶** - è°ƒç”¨åç«¯å·¥ç¨‹å¸ˆå’Œå‰ç«¯å·¥ç¨‹å¸ˆ

### è°ƒç”¨çš„æŠ€èƒ½åŠåœºæ™¯

#### 1. è°ƒç”¨æŠ€æœ¯æ¶æ„å¸ˆï¼ˆtechnical-architectï¼‰

**è°ƒç”¨æ—¶æœº**ï¼š
- å½“éœ€è¦é€‰æ‹©æµ‹è¯•æ¡†æ¶æ—¶
- å½“éœ€è¦è¯„ä¼°æµ‹è¯•æŠ€æœ¯æ ˆæ—¶
- å½“éœ€è¦è®¾è®¡æµ‹è¯•æ¶æ„æ—¶

**è°ƒç”¨æ–¹å¼**ï¼š

```typescript
const technicalArchitect = await useSkill("technical-architect");
const frameworkSelection = await technicalArchitect.selectTestFramework({
  requirements: testingRequirements,
  techStack: projectTechStack,
});

**è°ƒç”¨åœºæ™¯**ï¼š

**åœºæ™¯1**ï¼šæµ‹è¯•æ¡†æ¶é€‰æ‹©
- **è¾“å…¥**ï¼šæµ‹è¯•éœ€æ±‚ã€é¡¹ç›®æŠ€æœ¯æ ˆ
- **è°ƒç”¨**ï¼štechnical-architectæ¨èæµ‹è¯•æ¡†æ¶
- **è¾“å‡º**ï¼šæ¡†æ¶é€‰æ‹©ã€å¯¹æ¯”åˆ†æ

**åœºæ™¯2**ï¼šæµ‹è¯•æ¶æ„è®¾è®¡
- **è¾“å…¥**ï¼šæµ‹è¯•èŒƒå›´ã€é¡¹ç›®æ¶æ„
- **è°ƒç”¨**ï¼štechnical-architectè®¾è®¡æµ‹è¯•æ¶æ„
- **è¾“å‡º**ï¼šæµ‹è¯•æ¶æ„æ–¹æ¡ˆã€åˆ†å±‚ç­–ç•¥

#### 2. è°ƒç”¨DevOpsé…ç½®ç”Ÿæˆå™¨ï¼ˆdevops-generatorï¼‰

**è°ƒç”¨æ—¶æœº**ï¼š
- å½“éœ€è¦é…ç½®CI/CDæµ‹è¯•æ—¶
- å½“éœ€è¦é…ç½®æµ‹è¯•ç¯å¢ƒæ—¶
- å½“éœ€è¦é…ç½®æµ‹è¯•æŠ¥å‘Šæ—¶

**è°ƒç”¨æ–¹å¼**ï¼š

```typescript
const devopsGenerator = await useSkill("devops-generator");
const testCI = await devopsGenerator.configureTestCI({
  testFramework: framework,
  coverageTarget: target,
});

**è°ƒç”¨åœºæ™¯**ï¼š

**åœºæ™¯1**ï¼šCI/CDæµ‹è¯•é…ç½®
- **è¾“å…¥**ï¼šæµ‹è¯•æ¡†æ¶ã€æµ‹è¯•å‘½ä»¤
- **è°ƒç”¨**ï¼šdevops-generatorç”ŸæˆCIé…ç½®
- **è¾“å‡º**ï¼šCIé…ç½®æ–‡ä»¶ã€æµæ°´çº¿é…ç½®

**åœºæ™¯2**ï¼šæµ‹è¯•ç¯å¢ƒé…ç½®
- **è¾“å…¥**ï¼šæµ‹è¯•éœ€æ±‚ã€ç¯å¢ƒè¦æ±‚
- **è°ƒç”¨**ï¼šdevops-generatoré…ç½®æµ‹è¯•ç¯å¢ƒ
- **è¾“å‡º**ï¼šDockeré…ç½®ã€ç¯å¢ƒè„šæœ¬

#### 3. è°ƒç”¨åç«¯å·¥ç¨‹å¸ˆï¼ˆbackend-engineerï¼‰

**è°ƒç”¨æ—¶æœº**ï¼š
- å½“éœ€è¦äº†è§£åç«¯æ¶æ„æ—¶
- å½“éœ€è¦è®¾è®¡APIæµ‹è¯•æ—¶
- å½“éœ€è¦è®¾è®¡æ•°æ®åº“æµ‹è¯•æ—¶

**è°ƒç”¨æ–¹å¼**ï¼š

```typescript
const backendEngineer = await useSkill("backend-engineer");
const apiTests = await backendEngineer.designAPITests({
  apiSpec: openAPISpec,
  endpoints: endpointList,
});

**è°ƒç”¨åœºæ™¯**ï¼š

**åœºæ™¯1**ï¼šAPIæµ‹è¯•è®¾è®¡
- **è¾“å…¥**ï¼šAPIè§„èŒƒã€ç«¯ç‚¹åˆ—è¡¨
- **è°ƒç”¨**ï¼šbackend-engineerè®¾è®¡APIæµ‹è¯•
- **è¾“å‡º**ï¼šAPIæµ‹è¯•ç”¨ä¾‹ã€Mocké…ç½®

**åœºæ™¯2**ï¼šæ•°æ®åº“æµ‹è¯•è®¾è®¡
- **è¾“å…¥**ï¼šSchemaã€æµ‹è¯•åœºæ™¯
- **è°ƒç”¨**ï¼šbackend-engineerè®¾è®¡æ•°æ®åº“æµ‹è¯•
- **è¾“å‡º**ï¼šæ•°æ®åº“æµ‹è¯•ç”¨ä¾‹ã€æµ‹è¯•æ•°æ®

#### 4. è°ƒç”¨å‰ç«¯å·¥ç¨‹å¸ˆï¼ˆfrontend-engineerï¼‰

**è°ƒç”¨æ—¶æœº**ï¼š
- å½“éœ€è¦äº†è§£å‰ç«¯æ¶æ„æ—¶
- å½“éœ€è¦è®¾è®¡ç»„ä»¶æµ‹è¯•æ—¶
- å½“éœ€è¦è®¾è®¡E2Eæµ‹è¯•æ—¶

**è°ƒç”¨æ–¹å¼**ï¼š

```typescript
const frontendEngineer = await useSkill("frontend-engineer");
const componentTests = await frontendEngineer.designComponentTests({
  components: componentList,
  interactions: interactionPatterns,
});

**è°ƒç”¨åœºæ™¯**ï¼š

**åœºæ™¯1**ï¼šç»„ä»¶æµ‹è¯•è®¾è®¡
- **è¾“å…¥**ï¼šç»„ä»¶åˆ—è¡¨ã€äº¤äº’æ¨¡å¼
- **è°ƒç”¨**ï¼šfrontend-engineerè®¾è®¡ç»„ä»¶æµ‹è¯•
- **è¾“å‡º**ï¼šç»„ä»¶æµ‹è¯•ç”¨ä¾‹ã€æµ‹è¯•è¾…åŠ©å‡½æ•°

**åœºæ™¯2**ï¼šE2Eæµ‹è¯•åœºæ™¯è®¾è®¡
- **è¾“å…¥**ï¼šç”¨æˆ·æµç¨‹ã€åŠŸèƒ½åˆ—è¡¨
- **è°ƒç”¨**ï¼šfrontend-engineerè®¾è®¡E2Eæµ‹è¯•
- **è¾“å‡º**ï¼šE2Eæµ‹è¯•åœºæ™¯ã€æµ‹è¯•æ•°æ®

### è°ƒç”¨æ³¨æ„äº‹é¡¹

1. **æ¡†æ¶åŒ¹é…**ï¼šæµ‹è¯•æ¡†æ¶å¿…é¡»åŒ¹é…é¡¹ç›®æŠ€æœ¯æ ˆ

2. **ç¯å¢ƒéš”ç¦»**ï¼šæµ‹è¯•ç¯å¢ƒå¿…é¡»ä¸ç”Ÿäº§ç¯å¢ƒéš”ç¦»

3. **æ•°æ®ç®¡ç†**ï¼šæµ‹è¯•æ•°æ®å¿…é¡»ç‹¬ç«‹ç®¡ç†

4. **æŒç»­é›†æˆ**ï¼šæµ‹è¯•å¿…é¡»é›†æˆåˆ°CI/CDæµç¨‹

---

## æ€»ç»“

Test Framework Builder Skillä¸“æ³¨äºï¼š

1. âœ… æ­å»ºå•å…ƒæµ‹è¯•æ¡†æ¶ï¼ˆJest, Vitest, Mochaç­‰ï¼‰

2. âœ… æ­å»ºé›†æˆæµ‹è¯•æ¡†æ¶ï¼ˆTestContainers, Supertestç­‰ï¼‰

3. âœ… æ­å»ºE2Eæµ‹è¯•æ¡†æ¶ï¼ˆPlaywright, Cypressç­‰ï¼‰

4. âœ… é…ç½®æµ‹è¯•å·¥å…·é“¾ï¼ˆè¦†ç›–ç‡ã€æŠ¥å‘Šã€æ€§èƒ½æµ‹è¯•ï¼‰

5. âœ… ç”Ÿæˆæµ‹è¯•æ•°æ®ç®¡ç†ï¼ˆå·¥å‚ã€fixturesã€ç§å­ï¼‰

6. âœ… ç”Ÿæˆæµ‹è¯•æ–‡æ¡£å’Œç¤ºä¾‹

**ä¸è´Ÿè´£**ï¼š

- âŒ å®é™…æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹
- âŒ åˆ†ææµ‹è¯•ç»“æœ
- âŒ ä¿®å¤æµ‹è¯•å¤±è´¥
- âŒ ä¸æµ‹è¯•æœåŠ¡é›†æˆ

è¿™äº›å·¥ä½œéœ€è¦ç”±tester skillæˆ–CI/CDç³»ç»Ÿå®Œæˆã€‚

---

## ğŸ“š å‚è€ƒèµ„æ–™

### å…¨å±€å‚è€ƒèµ„æ–™

æœ¬skillå‚è€ƒä»¥ä¸‹å…¨å±€å‚è€ƒèµ„æ–™ï¼š

- **ç¼–ç è§„èŒƒ**ï¼š`references/best-practices/coding.md`ï¼ˆåŒ…å«å‘½åè§„èŒƒã€å‡½æ•°è®¾è®¡åŸåˆ™ã€ä»£ç ç»„ç»‡è§„èŒƒã€æ³¨é‡Šè§„èŒƒã€é”™è¯¯å¤„ç†è§„èŒƒï¼‰
- **è®¾è®¡æ¨¡å¼**ï¼š`references/design-patterns/creational.md`ã€`references/design-patterns/structural.md`ã€`references/design-patterns/behavioral.md`
- **æ¶æ„å‚è€ƒ**ï¼š`references/architecture/hexagonal-architecture.md`ã€`references/architecture/microservices.md`

### æœ¬skillç‰¹æœ‰å‚è€ƒèµ„æ–™

æœ¬skillä½¿ç”¨ä»¥ä¸‹ç‰¹æœ‰çš„å‚è€ƒèµ„æ–™ï¼š

- **[æµ‹è¯•æ¡†æ¶é…ç½®](references/test-framework-config.md)** - åŒ…å«Jestã€Vitestã€Playwrightç­‰æµ‹è¯•æ¡†æ¶é…ç½®å‚è€ƒ

## ğŸ› ï¸ å·¥å…·è„šæœ¬

### å…¨å±€å·¥å…·è„šæœ¬

æœ¬skillä½¿ç”¨ä»¥ä¸‹å…¨å±€å·¥å…·è„šæœ¬ï¼š

- **Loggerå·¥å…·**ï¼š`scripts/utils/logger.ts`

  ```typescript
  import { createLogger } from "@codebuddy/scripts/utils/logger";
  const logger = createLogger("Test Framework Builder");
  logger.info("å¼€å§‹æ­å»ºæµ‹è¯•æ¡†æ¶");
  logger.skillComplete("Test Framework Builder", 5000);

- **FileManagerå·¥å…·**ï¼š`scripts/utils/file-manager.ts`

  ```typescript
  import { FileManager } from "@codebuddy/scripts/utils/file-manager";
  const fm = new FileManager();
  await fm.createDirectory("./tests");
  await fm.writeFile("./tests/jest.config.js", jestConfig);

- **ContextManagerå·¥å…·**ï¼š`scripts/utils/context-manager.ts`

  ```typescript
  import { ContextManager } from "@codebuddy/scripts/utils/context-manager";
  const ctx = new ContextManager();
  ctx.set("testFramework", "jest");
  ctx.set("coverageTarget", 80);

- **CodeValidator**ï¼š`scripts/validators/code-validator.ts`

  ```typescript
  import { CodeValidator } from "@codebuddy/scripts/validators/code-validator";
  const validator = new CodeValidator();
  const result = await validator.validate("./tests", { language: "typescript" });

- **ConfigValidator**ï¼š`scripts/validators/config-validator.ts`

  ```typescript
  import { ConfigValidator } from "@codebuddy/scripts/validators/config-validator";
  const validator = new ConfigValidator();
  const result = await validator.validate("./jest.config.js", { schema: "jest" });

### æœ¬skillç‰¹æœ‰è„šæœ¬

æœ¬skillä½¿ç”¨ä»¥ä¸‹ç‰¹æœ‰çš„å·¥å…·è„šæœ¬ï¼š

- **[é…ç½®ç”Ÿæˆå™¨](scripts/config-generator.ts)** - ç”Ÿæˆæµ‹è¯•æ¡†æ¶é…ç½®æ–‡ä»¶

  ```typescript
  import { ConfigGenerator } from "./scripts/config-generator";
  const generator = new ConfigGenerator();
  await generator.generateJestConfig({
    coverageThreshold: 80,
    testMatch: ["**/*.test.ts"],
  });

  ````

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šæ­å»ºæµ‹è¯•æ¡†æ¶

**åœºæ™¯æè¿°**ï¼šä¸ºNode.jsé¡¹ç›®æ­å»ºæµ‹è¯•æ¡†æ¶

**è¾“å…¥ç¤ºä¾‹**ï¼š

```text
è¯·ä¸ºNode.jsé¡¹ç›®æ­å»ºæµ‹è¯•æ¡†æ¶ï¼Œè¦æ±‚ï¼š

1. æ”¯æŒå•å…ƒæµ‹è¯•

2. æ”¯æŒé›†æˆæµ‹è¯•

3. ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š

4. æµ‹è¯•è¦†ç›–ç‡ä¸ä½äº80%

```

**è°ƒç”¨æ–¹å¼**ï¼š

```bash
invoke skill test-framework-builder

```

**è¾“å‡ºç¤ºä¾‹**ï¼š

```markdown
# æµ‹è¯•æ¡†æ¶æ­å»ºæ–¹æ¡ˆ

## 1. æŠ€æœ¯é€‰å‹

- **æµ‹è¯•æ¡†æ¶**ï¼šJest
- **è¦†ç›–ç‡å·¥å…·**ï¼šIstanbul
- **æ–­è¨€åº“**ï¼šJestå†…ç½®
- **Mockåº“**ï¼šJestå†…ç½®

## 2. å®‰è£…ä¾èµ–

```bash
npm install --save-dev jest @types/jest ts-jest

```

## 3. é…ç½®Jest

```javascript
// jest.config.js
module.exports = {
  preset: 'ts-jest',
  testEnvironment: 'node',
  roots: ['<rootDir>/src'],
  testMatch: ['**/__tests__/**/*.test.ts'],
  collectCoverageFrom: [
    'src/**/*.ts',
    '!src/**/*.d.ts',
  ],
  coverageThreshold: {
    global: {
      branches: 80,
      functions: 80,
      lines: 80,
      statements: 80,
    },
  },
};

```

## 4. ç¤ºä¾‹æµ‹è¯•

```typescript
// src/__tests__/user.test.ts
import { UserService } from '../services/user';

describe('UserService', () => {
  let userService: UserService;

  beforeEach(() => {
    userService = new UserService();
  });

  describe('register', () => {
    it('should register a new user', async () => {
      const user = await userService.register({
        username: 'test',
        email: 'test@example.com',
        password: 'password123',
      });

      expect(user).toHaveProperty('id');
      expect(user.username).toBe('test');
    });

    it('should throw error if email already exists', async () => {
      await expect(
        userService.register({
          username: 'test',
          email: 'existing@example.com',
          password: 'password123',
        })
      ).rejects.toThrow('Email already exists');
    });
  });
});

```

## 5. è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

```
